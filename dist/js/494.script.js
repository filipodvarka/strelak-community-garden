(self.webpackChunkzahrada=self.webpackChunkzahrada||[]).push([[494],{885:(e,t,r)=>{"use strict";r.d(t,{eI:()=>xe});const n={"X-Client-Info":"supabase-js/1.33.3"};var o=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function i(e,t,r,n,i){return o(this,void 0,void 0,(function*(){return new Promise(((o,a)=>{e(r,((e,t,r)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e||(n.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(r)),n})(t,n,i)).then((e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?o:e.json()})).then((e=>o(e))).catch((e=>((e,t)=>{if("function"!=typeof e.json)return t(e);e.json().then((r=>t({message:s(r),status:(null==e?void 0:e.status)||500})))})(e,a)))}))}))}function a(e,t,r){return o(this,void 0,void 0,(function*(){return i(e,"GET",t,r)}))}function l(e,t,r,n){return o(this,void 0,void 0,(function*(){return i(e,"POST",t,n,r)}))}function u(e,t,r,n){return o(this,void 0,void 0,(function*(){return i(e,"PUT",t,n,r)}))}const c="supabase.auth.token",d={name:"sb",lifetime:28800,domain:"",path:"/",sameSite:"lax"};function h(e,t,r){const n=r.map((t=>{return r=t,n=function(e){if(!e||!e.headers||!e.headers.host)throw new Error('The "host" request header is not available');const t=e.headers.host.indexOf(":")>-1&&e.headers.host.split(":")[0]||e.headers.host;return!(["localhost","127.0.0.1"].indexOf(t)>-1||t.endsWith(".local"))}(e),function(e,t,r){const n=r||{},o=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");const i=o(t);if(i&&!s.test(i))throw new TypeError("argument val is invalid");let a=e+"="+i;if(null!=n.maxAge){const e=n.maxAge-0;if(isNaN(e)||!isFinite(e))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(e)}if(n.domain){if(!s.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!s.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}(r.name,r.value,{maxAge:r.maxAge,expires:new Date(Date.now()+1e3*r.maxAge),httpOnly:!0,secure:n,path:null!==(o=r.path)&&void 0!==o?o:"/",domain:null!==(s=r.domain)&&void 0!==s?s:"",sameSite:null!==(i=r.sameSite)&&void 0!==i?i:"lax"});var r,n,o,s,i})),o=t.getHeader("Set-Cookie");return o&&(o instanceof Array?Array.prototype.push.apply(n,o):"string"==typeof o&&n.push(o)),n}function p(e,t,r){t.setHeader("Set-Cookie",h(e,t,r))}var f=r(98),v=r.n(f);function m(e){return Math.round(Date.now()/1e3)+e}const b=()=>"undefined"!=typeof window;function y(e,t){var r;t||(t=(null===(r=null===window||void 0===window?void 0:window.location)||void 0===r?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}const g=e=>{let t;return t=e||("undefined"==typeof fetch?v():fetch),(...e)=>t(...e)};var w=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};class S{constructor({url:e="",headers:t={},cookieOptions:r,fetch:n}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},d),r),this.fetch=g(n)}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}cookieName(){var e;return null!==(e=this.cookieOptions.name)&&void 0!==e?e:""}getUrlForProvider(e,t){const r=[`provider=${encodeURIComponent(e)}`];return(null==t?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),`${this.url}/authorize?${r.join("&")}`}signUpWithEmail(e,t,r={}){return w(this,void 0,void 0,(function*(){try{const n=Object.assign({},this.headers);let o="";r.redirectTo&&(o="?redirect_to="+encodeURIComponent(r.redirectTo));const s=yield l(this.fetch,`${this.url}/signup${o}`,{email:e,password:t,data:r.data,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:n}),i=Object.assign({},s);return i.expires_in&&(i.expires_at=m(s.expires_in)),{data:i,error:null}}catch(e){return{data:null,error:e}}}))}signInWithEmail(e,t,r={}){return w(this,void 0,void 0,(function*(){try{const n=Object.assign({},this.headers);let o="?grant_type=password";r.redirectTo&&(o+="&redirect_to="+encodeURIComponent(r.redirectTo));const s=yield l(this.fetch,`${this.url}/token${o}`,{email:e,password:t},{headers:n}),i=Object.assign({},s);return i.expires_in&&(i.expires_at=m(s.expires_in)),{data:i,error:null}}catch(e){return{data:null,error:e}}}))}signUpWithPhone(e,t,r={}){return w(this,void 0,void 0,(function*(){try{const n=Object.assign({},this.headers),o=yield l(this.fetch,`${this.url}/signup`,{phone:e,password:t,data:r.data,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:n}),s=Object.assign({},o);return s.expires_in&&(s.expires_at=m(o.expires_in)),{data:s,error:null}}catch(e){return{data:null,error:e}}}))}signInWithPhone(e,t){return w(this,void 0,void 0,(function*(){try{const r=Object.assign({},this.headers),n="?grant_type=password",o=yield l(this.fetch,`${this.url}/token${n}`,{phone:e,password:t},{headers:r}),s=Object.assign({},o);return s.expires_in&&(s.expires_at=m(o.expires_in)),{data:s,error:null}}catch(e){return{data:null,error:e}}}))}signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:n,provider:o}){return w(this,void 0,void 0,(function*(){try{const s=Object.assign({},this.headers),i="?grant_type=id_token",a=yield l(this.fetch,`${this.url}/token${i}`,{id_token:e,nonce:t,client_id:r,issuer:n,provider:o},{headers:s}),u=Object.assign({},a);return u.expires_in&&(u.expires_at=m(a.expires_in)),{data:u,error:null}}catch(e){return{data:null,error:e}}}))}sendMagicLinkEmail(e,t={}){var r;return w(this,void 0,void 0,(function*(){try{const n=Object.assign({},this.headers);let o="";t.redirectTo&&(o+="?redirect_to="+encodeURIComponent(t.redirectTo));const s=null===(r=t.shouldCreateUser)||void 0===r||r;return{data:yield l(this.fetch,`${this.url}/otp${o}`,{email:e,create_user:s,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:n}),error:null}}catch(e){return{data:null,error:e}}}))}sendMobileOTP(e,t={}){var r;return w(this,void 0,void 0,(function*(){try{const n=null===(r=t.shouldCreateUser)||void 0===r||r,o=Object.assign({},this.headers);return{data:yield l(this.fetch,`${this.url}/otp`,{phone:e,create_user:n,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:o}),error:null}}catch(e){return{data:null,error:e}}}))}signOut(e){return w(this,void 0,void 0,(function*(){try{return yield l(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(e){return{error:e}}}))}verifyMobileOTP(e,t,r={}){return w(this,void 0,void 0,(function*(){try{const n=Object.assign({},this.headers),o=yield l(this.fetch,`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:n}),s=Object.assign({},o);return s.expires_in&&(s.expires_at=m(o.expires_in)),{data:s,error:null}}catch(e){return{data:null,error:e}}}))}verifyOTP({email:e,phone:t,token:r,type:n="sms"},o={}){return w(this,void 0,void 0,(function*(){try{const s=Object.assign({},this.headers),i=yield l(this.fetch,`${this.url}/verify`,{email:e,phone:t,token:r,type:n,redirect_to:o.redirectTo},{headers:s}),a=Object.assign({},i);return a.expires_in&&(a.expires_at=m(i.expires_in)),{data:a,error:null}}catch(e){return{data:null,error:e}}}))}inviteUserByEmail(e,t={}){return w(this,void 0,void 0,(function*(){try{const r=Object.assign({},this.headers);let n="";return t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield l(this.fetch,`${this.url}/invite${n}`,{email:e,data:t.data},{headers:r}),error:null}}catch(e){return{data:null,error:e}}}))}resetPasswordForEmail(e,t={}){return w(this,void 0,void 0,(function*(){try{const r=Object.assign({},this.headers);let n="";return t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield l(this.fetch,`${this.url}/recover${n}`,{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r}),error:null}}catch(e){return{data:null,error:e}}}))}refreshAccessToken(e){return w(this,void 0,void 0,(function*(){try{const t=yield l(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),r=Object.assign({},t);return r.expires_in&&(r.expires_at=m(t.expires_in)),{data:r,error:null}}catch(e){return{data:null,error:e}}}))}setAuthCookie(e,t){"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:n}=e.body;if(!r)throw new Error("Auth event missing!");if("SIGNED_IN"===r){if(!n)throw new Error("Auth session missing!");p(e,t,[{key:"access-token",value:n.access_token},{key:"refresh-token",value:n.refresh_token}].map((e=>{var t;return{name:`${this.cookieName()}-${e.key}`,value:e.value,domain:this.cookieOptions.domain,maxAge:null!==(t=this.cookieOptions.lifetime)&&void 0!==t?t:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}})))}"SIGNED_OUT"===r&&p(e,t,["access-token","refresh-token"].map((e=>({name:`${this.cookieName()}-${e}`,value:"",maxAge:-1})))),t.status(200).json({})}deleteAuthCookie(e,t,{redirectTo:r="/"}){return p(e,t,["access-token","refresh-token"].map((e=>({name:`${this.cookieName()}-${e}`,value:"",maxAge:-1})))),t.redirect(307,r)}getAuthCookieString(e,t){"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:n}=e.body;if(!r)throw new Error("Auth event missing!");if("SIGNED_IN"===r){if(!n)throw new Error("Auth session missing!");return h(e,t,[{key:"access-token",value:n.access_token},{key:"refresh-token",value:n.refresh_token}].map((e=>{var t;return{name:`${this.cookieName()}-${e.key}`,value:e.value,domain:this.cookieOptions.domain,maxAge:null!==(t=this.cookieOptions.lifetime)&&void 0!==t?t:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}})))}return"SIGNED_OUT"===r?h(e,t,["access-token","refresh-token"].map((e=>({name:`${this.cookieName()}-${e}`,value:"",maxAge:-1})))):t.getHeader("Set-Cookie")}generateLink(e,t,r={}){return w(this,void 0,void 0,(function*(){try{return{data:yield l(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}createUser(e){return w(this,void 0,void 0,(function*(){try{const t=yield l(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}}))}listUsers(){return w(this,void 0,void 0,(function*(){try{return{data:(yield a(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}}))}getUserById(e){return w(this,void 0,void 0,(function*(){try{return{data:yield a(this.fetch,`${this.url}/admin/users/${e}`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}getUserByCookie(e,t){return w(this,void 0,void 0,(function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");const r=e.cookies[`${this.cookieName()}-access-token`],n=e.cookies[`${this.cookieName()}-refresh-token`];if(!r)throw new Error("No cookie found!");const{user:o,error:s}=yield this.getUser(r);if(s){if(!n)throw new Error("No refresh_token cookie found!");if(!t)throw new Error("You need to pass the res object to automatically refresh the session!");const{data:r,error:o}=yield this.refreshAccessToken(n);if(o)throw o;if(r)return p(e,t,[{key:"access-token",value:r.access_token},{key:"refresh-token",value:r.refresh_token}].map((e=>{var t;return{name:`${this.cookieName()}-${e.key}`,value:e.value,domain:this.cookieOptions.domain,maxAge:null!==(t=this.cookieOptions.lifetime)&&void 0!==t?t:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))),{token:r.access_token,user:r.user,data:r.user,error:null}}return{token:r,user:o,data:o,error:null}}catch(e){return{token:null,user:null,data:null,error:e}}}))}updateUserById(e,t){return w(this,void 0,void 0,(function*(){try{const r=yield u(this.fetch,`${this.url}/admin/users/${e}`,t,{headers:this.headers});return{user:r,data:r,error:null}}catch(e){return{user:null,data:null,error:e}}}))}deleteUser(e){return w(this,void 0,void 0,(function*(){try{const t=yield function(e,t,r,n){return o(this,void 0,void 0,(function*(){return i(e,"DELETE",t,n,r)}))}(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this.headers});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}}))}getUser(e){return w(this,void 0,void 0,(function*(){try{const t=yield a(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}}))}updateUser(e,t){return w(this,void 0,void 0,(function*(){try{const r=yield u(this.fetch,`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(e){return{user:null,data:null,error:e}}}))}}var x=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const O={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:{"X-Client-Info":"gotrue-js/1.22.12"}};class T extends class{constructor(e){this.stateChangeEmitters=new Map;const t=Object.assign(Object.assign({},O),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.multiTab=t.multiTab,this.localStorage=t.localStorage||globalThis.localStorage,this.api=new S({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions,fetch:t.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),t.detectSessionInUrl&&b()&&y("access_token")&&this.getSessionFromUrl({storeSession:!0}).then((({error:e})=>{e&&console.error("Error getting session from URL.",e)}))}signUp({email:e,password:t,phone:r},n={}){return x(this,void 0,void 0,(function*(){try{this._removeSession();const{data:o,error:s}=r&&t?yield this.api.signUpWithPhone(r,t,{data:n.data,captchaToken:n.captchaToken}):yield this.api.signUpWithEmail(e,t,{redirectTo:n.redirectTo,data:n.data,captchaToken:n.captchaToken});if(s)throw s;if(!o)throw"An error occurred on sign up.";let i=null,a=null;return o.access_token&&(i=o,a=i.user,this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN")),o.id&&(a=o),{user:a,session:i,error:null}}catch(e){return{user:null,session:null,error:e}}}))}signIn({email:e,phone:t,password:r,refreshToken:n,provider:o,oidc:s},i={}){return x(this,void 0,void 0,(function*(){try{if(this._removeSession(),e&&!r){const{error:t}=yield this.api.sendMagicLinkEmail(e,{redirectTo:i.redirectTo,shouldCreateUser:i.shouldCreateUser,captchaToken:i.captchaToken});return{user:null,session:null,error:t}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:i.redirectTo});if(t&&!r){const{error:e}=yield this.api.sendMobileOTP(t,{shouldCreateUser:i.shouldCreateUser,captchaToken:i.captchaToken});return{user:null,session:null,error:e}}if(t&&r)return this._handlePhoneSignIn(t,r);if(n){const{error:e}=yield this._callRefreshToken(n);if(e)throw e;return{user:this.currentUser,session:this.currentSession,error:null}}if(o)return this._handleProviderSignIn(o,{redirectTo:i.redirectTo,scopes:i.scopes});if(s)return this._handleOpenIDConnectSignIn(s);throw new Error("You must provide either an email, phone number, a third-party provider or OpenID Connect.")}catch(e){return{user:null,session:null,error:e}}}))}verifyOTP(e,t={}){return x(this,void 0,void 0,(function*(){try{this._removeSession();const{data:r,error:n}=yield this.api.verifyOTP(e,t);if(n)throw n;if(!r)throw"An error occurred on token verification.";let o=null,s=null;return r.access_token&&(o=r,s=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),r.id&&(s=r),{user:s,session:o,error:null}}catch(e){return{user:null,session:null,error:e}}}))}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return x(this,void 0,void 0,(function*(){try{if(!(null===(e=this.currentSession)||void 0===e?void 0:e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(e){return{data:null,user:null,error:e}}}))}update(e){var t;return x(this,void 0,void 0,(function*(){try{if(!(null===(t=this.currentSession)||void 0===t?void 0:t.access_token))throw new Error("Not logged in.");const{user:r,error:n}=yield this.api.updateUser(this.currentSession.access_token,e);if(n)throw n;if(!r)throw Error("Invalid user data.");const o=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(o),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(e){return{data:null,user:null,error:e}}}))}setSession(e){return x(this,void 0,void 0,(function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);return r?{session:null,error:r}:(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null})}catch(e){return{error:e,session:null}}}))}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:this.user()}),this.currentSession}getSessionFromUrl(e){return x(this,void 0,void 0,(function*(){try{if(!b())throw new Error("No browser detected.");const t=y("error_description");if(t)throw new Error(t);const r=y("provider_token"),n=y("access_token");if(!n)throw new Error("No access_token detected.");const o=y("expires_in");if(!o)throw new Error("No expires_in detected.");const s=y("refresh_token");if(!s)throw new Error("No refresh_token detected.");const i=y("token_type");if(!i)throw new Error("No token_type detected.");const a=Math.round(Date.now()/1e3)+parseInt(o),{user:l,error:u}=yield this.api.getUser(n);if(u)throw u;const c={provider_token:r,access_token:n,expires_in:parseInt(o),expires_at:a,refresh_token:s,token_type:i,user:l};if(null==e?void 0:e.storeSession){this._saveSession(c);const e=y("type");this._notifyAllSubscribers("SIGNED_IN"),"recovery"===e&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:c,error:null}}catch(e){return{data:null,error:e}}}))}signOut(){var e;return x(this,void 0,void 0,(function*(){const t=null===(e=this.currentSession)||void 0===e?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:e}=yield this.api.signOut(t);if(e)return{error:e}}return{error:null}}))}onAuthStateChange(e){try{const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),{data:r,error:null}}catch(e){return{data:null,error:e}}}_handleEmailSignIn(e,t,r={}){var n,o;return x(this,void 0,void 0,(function*(){try{const{data:s,error:i}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo});return i||!s?{data:null,user:null,session:null,error:i}:(((null===(n=null==s?void 0:s.user)||void 0===n?void 0:n.confirmed_at)||(null===(o=null==s?void 0:s.user)||void 0===o?void 0:o.email_confirmed_at))&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),{data:s,user:s.user,session:s,error:null})}catch(e){return{data:null,user:null,session:null,error:e}}}))}_handlePhoneSignIn(e,t){var r;return x(this,void 0,void 0,(function*(){try{const{data:n,error:o}=yield this.api.signInWithPhone(e,t);return o||!n?{data:null,user:null,session:null,error:o}:((null===(r=null==n?void 0:n.user)||void 0===r?void 0:r.phone_confirmed_at)&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN")),{data:n,user:n.user,session:n,error:null})}catch(e){return{data:null,user:null,session:null,error:e}}}))}_handleProviderSignIn(e,t={}){const r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return b()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(t){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:t}}}_handleOpenIDConnectSignIn({id_token:e,nonce:t,client_id:r,issuer:n,provider:o}){return x(this,void 0,void 0,(function*(){if(e&&t&&(r&&n||o))try{const{data:s,error:i}=yield this.api.signInWithOpenIDConnect({id_token:e,nonce:t,client_id:r,issuer:n,provider:o});return i||!s?{user:null,session:null,error:i}:(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN"),{user:s.user,session:s,error:null})}catch(e){return{user:null,session:null,error:e}}throw new Error("You must provide a OpenID Connect provider with your id token and nonce.")}))}_recoverSession(){var e;try{const t=b()&&(null===(e=this.localStorage)||void 0===e?void 0:e.getItem(c));if(!t||"string"!=typeof t)return null;const r=JSON.parse(t),{currentSession:n,expiresAt:o}=r;o>=Math.round(Date.now()/1e3)&&(null==n?void 0:n.user)&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){console.log("error",e)}}_recoverAndRefresh(){return x(this,void 0,void 0,(function*(){try{const e=b()&&(yield this.localStorage.getItem(c));if(!e)return null;const t=JSON.parse(e),{currentSession:r,expiresAt:n}=t;if(n<Math.round(Date.now()/1e3))if(this.autoRefreshToken&&r.refresh_token){const{error:e}=yield this._callRefreshToken(r.refresh_token);e&&(console.log(e.message),yield this._removeSession())}else this._removeSession();else r?(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}}))}_callRefreshToken(e){var t;return void 0===e&&(e=null===(t=this.currentSession)||void 0===t?void 0:t.refresh_token),x(this,void 0,void 0,(function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);if(r)throw r;if(!t)throw Error("Invalid session data.");return this._saveSession(t),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:t,error:null}}catch(e){return{data:null,error:e}}}))}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach((t=>t.callback(e,this.currentSession)))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const e=t-Math.round(Date.now()/1e3),r=e>60?60:.5;this._startAutoRefreshToken(1e3*(e-r))}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};b()&&this.localStorage.setItem(c,JSON.stringify(t))}_removeSession(){return x(this,void 0,void 0,(function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),b()&&(yield this.localStorage.removeItem(c))}))}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((()=>this._callRefreshToken()),e),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!b()||!(null===window||void 0===window?void 0:window.addEventListener))return!1;try{null===window||void 0===window||window.addEventListener("storage",(e=>{var t;if(e.key===c){const r=JSON.parse(String(e.newValue));(null===(t=null==r?void 0:r.currentSession)||void 0===t?void 0:t.access_token)?(this._recoverAndRefresh(),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}}))}catch(e){console.error("_listenForMultiTabEvents",e)}}}{constructor(e){super(e)}}class E{constructor(e){let t;Object.assign(this,e),t=e.fetch?e.fetch:"undefined"==typeof fetch?v():fetch,this.fetch=(...e)=>t(...e),this.shouldThrowOnError=e.shouldThrowOnError||!1}throwOnError(e){return null==e&&(e=!0),this.shouldThrowOnError=e,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((e=>{return t=this,r=void 0,o=function*(){var t,r,n;let o=null,s=null,i=null;if(e.ok){const o=null===(t=this.headers.Prefer)||void 0===t?void 0:t.split(",").includes("return=minimal");if("HEAD"!==this.method&&!o){const t=yield e.text();t&&(s="text/csv"===this.headers.Accept?t:JSON.parse(t))}const a=null===(r=this.headers.Prefer)||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),l=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");a&&l&&l.length>1&&(i=parseInt(l[1]))}else{const t=yield e.text();try{o=JSON.parse(t)}catch(e){o={message:t}}if(o&&this.shouldThrowOnError)throw o}return{error:o,data:s,count:i,status:e.status,statusText:e.statusText,body:s}},new((n=void 0)||(n=Promise))((function(e,s){function i(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}l((o=o.apply(t,r||[])).next())}));var t,r,n,o}));return this.shouldThrowOnError||(r=r.catch((e=>({error:{message:`FetchError: ${e.message}`,details:"",hint:"",code:e.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"})))),r.then(e,t)}}class k extends E{select(e="*"){let t=!1;const r=e.split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:n}={}){const o=void 0===n?"order":`${n}.order`,s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const n=void 0===r?"offset":`${r}.offset`,o=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(o,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new k(this);return e.then=(e,t)=>this.then((t=>{var r,n;return(null===(n=null===(r=t.error)||void 0===r?void 0:r.details)||void 0===n?void 0:n.includes("Results contain 0 rows"))?e({error:null,data:null,count:t.count,status:200,statusText:"OK",body:null}):e(t)}),t),e}csv(){return this.headers.Accept="text/csv",this}}class _ extends k{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=void 0===t?"or":`${t}.or`;return this.url.searchParams.append(r,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const r=t.map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n=null}={}){let o="";"plain"===n?o="pl":"phrase"===n?o="ph":"websearch"===n&&(o="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`${o}fts${s}.${t}`),this}fts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`fts${n}.${t}`),this}plfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`plfts${n}.${t}`),this}phfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`phfts${n}.${t}`),this}wfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`wfts${n}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach((t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)})),this}}class P extends E{constructor(e,{headers:t={},schema:r,fetch:n,shouldThrowOnError:o}={}){super({fetch:n,shouldThrowOnError:o}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let n=!1;const o=e.split("").map((e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e))).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new _(this)}insert(e,{upsert:t=!1,onConflict:r,returning:n="representation",count:o=null}={}){this.method="POST";const s=[`return=${n}`];if(t&&s.push("resolution=merge-duplicates"),t&&void 0!==r&&this.url.searchParams.set("on_conflict",r),this.body=e,o&&s.push(`count=${o}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new _(this)}upsert(e,{onConflict:t,returning:r="representation",count:n=null,ignoreDuplicates:o=!1}={}){this.method="POST";const s=[`resolution=${o?"ignore":"merge"}-duplicates`,`return=${r}`];return void 0!==t&&this.url.searchParams.set("on_conflict",t),this.body=e,n&&s.push(`count=${n}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new _(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";const n=[`return=${t}`];return this.body=e,r&&n.push(`count=${r}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new _(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new _(this)}}class j extends E{constructor(e,{headers:t={},schema:r,fetch:n,shouldThrowOnError:o}={}){super({fetch:n,shouldThrowOnError:o}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{head:t=!1,count:r=null}={}){return t?(this.method="HEAD",e&&Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,t)}))):(this.method="POST",this.body=e),r&&(void 0!==this.headers.Prefer?this.headers.Prefer+=`,count=${r}`:this.headers.Prefer=`count=${r}`),new _(this)}}const R={"X-Client-Info":"postgrest-js/0.37.2"};class I{constructor(e,{headers:t={},schema:r,fetch:n,throwOnError:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},R),t),this.schema=r,this.fetch=n,this.shouldThrowOnError=o}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const t=`${this.url}/${e}`;return new P(t,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:r=!1,count:n=null}={}){const o=`${this.url}/rpc/${e}`;return new j(o,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError}).rpc(t,{head:r,count:n})}}var $;!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}($||($={}));const C=(e,t,r={})=>{var n;const o=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((r,n)=>(r[n]=A(n,e,t,o),r)),{})},A=(e,t,r,n)=>{const o=t.find((t=>t.name===e)),s=null==o?void 0:o.type,i=r[e];return s&&!n.includes(s)?D(s,i):F(i)},D=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return L(t,r)}switch(e){case $.bool:return U(t);case $.float4:case $.float8:case $.int2:case $.int4:case $.int8:case $.numeric:case $.oid:return N(t);case $.json:case $.jsonb:return B(t);case $.timestamp:return H(t);case $.abstime:case $.date:case $.daterange:case $.int4range:case $.int8range:case $.money:case $.reltime:case $.text:case $.time:case $.timestamptz:case $.timetz:case $.tsrange:case $.tstzrange:default:return F(t)}},F=e=>e,U=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},N=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},B=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},L=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const o=e.slice(1,r);try{n=JSON.parse("["+o+"]")}catch(e){n=o?o.split(","):[]}return n.map((e=>D(t,e)))}return e},H=e=>"string"==typeof e?e.replace(" ","T"):e;var M=r(840);const J={"X-Client-Info":"realtime-js/1.6.2"};var G,q,K,V;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(G||(G={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(q||(q={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(K||(K={})),function(e){e.websocket="websocket"}(V||(V={}));class z{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class Z{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),o=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=r.decode(e.slice(s,s+n));s+=n;const a=r.decode(e.slice(s,s+o));return s+=o,{ref:null,topic:i,event:a,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class Y{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref);const e=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel instanceof W?this.channel.on(this.refEvent,e):this.channel.on(this.refEvent,{},e),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&(this.channel instanceof W?this.channel.off(this.refEvent):this.channel.off(this.refEvent,{}))}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class W{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=q.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new Y(this,K.join,this.params,this.timeout),this.rejoinTimer=new z((()=>this.rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=q.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this.onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=q.closed,this.socket.remove(this)})),this.onError((e=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=q.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this.isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=q.errored,this.rejoinTimer.scheduleTimeout())})),this.on(K.reply,((e,t)=>{this.trigger(this.replyEventName(t),e)}))}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(K.close,e)}onError(e){this.on(K.error,(t=>e(t)))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter((t=>t.event!==e))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Y(this,e,t,r);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=q.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(K.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new Y(this,K.leave,{},e);return r.receive("ok",(()=>t())).receive("timeout",(()=>t())),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=q.joining,this.joinPush.resend(e))}trigger(e,t,r){let{close:n,error:o,leave:s,join:i}=K;if(r&&[n,o,s,i].indexOf(e)>=0&&r!==this.joinRef())return;let a=this.onMessage(e,t,r);if(t&&!a)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((r=>"*"===r.event?e===(null==t?void 0:t.type):r.event===e)).map((e=>e.callback(a,r)))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===q.closed}isErrored(){return this.state===q.errored}isJoined(){return this.state===q.joined}isJoining(){return this.state===q.joining}isLeaving(){return this.state===q.leaving}}class X{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel.on(r.state,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel.joinRef(),this.state=X.syncState(this.state,e,t,r),this.pendingDiffs.forEach((e=>{this.state=X.syncDiff(this.state,e,t,r)})),this.pendingDiffs=[],n()})),this.channel.on(r.diff,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=X.syncDiff(this.state,e,t,r),n())}))}static syncState(e,t,r,n){const o=this.cloneDeep(e),s=this.transformState(t),i={},a={};return this.map(o,((e,t)=>{s[e]||(a[e]=t)})),this.map(s,((e,t)=>{const r=o[e];if(r){const n=t.map((e=>e.presence_id)),o=r.map((e=>e.presence_id)),s=t.filter((e=>o.indexOf(e.presence_id)<0)),l=r.filter((e=>n.indexOf(e.presence_id)<0));s.length>0&&(i[e]=s),l.length>0&&(a[e]=l)}else i[e]=t})),this.syncDiff(o,{joins:i,leaves:a},r,n)}static syncDiff(e,t,r,n){const{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(o,((t,n)=>{const o=e[t];if(e[t]=this.cloneDeep(n),o){const r=e[t].map((e=>e.presence_id)),n=o.filter((e=>r.indexOf(e.presence_id)<0));e[t].unshift(...n)}r(t,o,n)})),this.map(s,((t,r)=>{let o=e[t];if(!o)return;const s=r.map((e=>e.presence_id));o=o.filter((e=>s.indexOf(e.presence_id)<0)),e[t]=o,n(t,o,r),0===o.length&&delete e[t]})),e}static list(e,t){return t||(t=(e,t)=>t),this.map(e,((e,r)=>t(e,r)))}static map(e,t){return Object.getOwnPropertyNames(e).map((r=>t(r,e[r])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map((e=>(e.presence_id=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):n,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}list(e){return X.list(this.state,e)}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}class Q{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=q.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new Y(this,K.join,this.params,this.timeout),this.rejoinTimer=new z((()=>this.rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=q.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this.onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=q.closed,this.socket.remove(this)})),this.onError((e=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=q.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this.isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=q.errored,this.rejoinTimer.scheduleTimeout())})),this.on(K.reply,{},((e,t)=>{this.trigger(this.replyEventName(t),e)})),this.presence=new X(this)}list(){return this.presence.list()}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const t=this.bindings.reduce(((e,t)=>{const{type:r}=t;return["phx_close","phx_error","phx_reply","presence_diff","presence_state"].includes(r)||(e[r]=t),e}),{});return Object.keys(t).length&&this.updateJoinPayload({configs:t}),this.joinedOnce=!0,this.rejoin(e),this.joinPush}}onClose(e){this.on(K.close,{},e)}onError(e){this.on(K.error,{},(t=>e(t)))}on(e,t,r){this.bindings.push({type:e,eventFilter:null!=t?t:{},callback:null!=r?r:()=>{}})}off(e,t){this.bindings=this.bindings.filter((r=>!(r.type===e&&Q.isEqual(r.eventFilter,t))))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Y(this,e,t,r);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=q.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(K.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new Y(this,K.leave,{},e);return r.receive("ok",(()=>t())).receive("timeout",(()=>t())),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=q.joining,this.joinPush.resend(e))}trigger(e,t,r){const{close:n,error:o,leave:s,join:i}=K;if(r&&[n,o,s,i].indexOf(e)>=0&&r!==this.joinRef())return;const a=this.onMessage(e,t,r);if(t&&!a)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((r=>{var n,o;return(null==r?void 0:r.type)===e&&("*"===(null===(n=null==r?void 0:r.eventFilter)||void 0===n?void 0:n.event)||(null===(o=null==r?void 0:r.eventFilter)||void 0===o?void 0:o.event)===(null==t?void 0:t.event))})).map((e=>e.callback(a,r)))}send(e){const t=this.push(e.type,e);return new Promise(((e,r)=>{t.receive("ok",(()=>e("ok"))),t.receive("timeout",(()=>r("timeout")))}))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===q.closed}isErrored(){return this.state===q.errored}isJoined(){return this.state===q.joined}isJoining(){return this.state===q.joining}isLeaving(){return this.state===q.leaving}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}}const ee=()=>{};class te{constructor(e,t){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=J,this.params={},this.timeout=1e4,this.transport=M.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ee,this.conn=null,this.sendBuffer=[],this.serializer=new Z,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${V.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),(null==t?void 0:t.longpollerTimeout)&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new z((()=>{return e=this,t=void 0,n=function*(){yield this.disconnect(),this.connect()},new((r=void 0)||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}));var e,t,r,n}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise(((r,n)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),r({error:null,data:!0})}catch(e){r({error:e,data:!1})}}))}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case G.connecting:return"connecting";case G.open:return"open";case G.closing:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(e){this.channels=this.channels.filter((t=>t.joinRef()!==e.joinRef()))}channel(e,t={isNewVersion:!1}){const{isNewVersion:r}=t,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["isNewVersion"]),o=r?new Q(e,Object.assign({},n),this):new W(e,Object.assign({},n),this);return o instanceof Q&&(o.presence.onJoin(((e,t,r)=>{o.trigger("presence",{event:"JOIN",key:e,currentPresences:t,newPresences:r})})),o.presence.onLeave(((e,t,r)=>{o.trigger("presence",{event:"LEAVE",key:e,currentPresences:t,leftPresences:r})})),o.presence.onSync((()=>{o.trigger("presence",{event:"SYNC"})}))),this.channels.push(o),o}push(e){let{topic:t,event:r,payload:n,ref:o}=e,s=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${r} (${o})`,n),this.isConnected()?s():this.sendBuffer.push(s)}onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:n,ref:o}=e;(o&&o===this.pendingHeartbeatRef||r===(null==n?void 0:n.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${o&&"("+o+")"||""}`,n),this.channels.filter((e=>e.isMember(t))).forEach((e=>e.trigger(r,n,o))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e;try{this.channels.forEach((t=>{e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(K.access_token,{access_token:e})}))}catch(e){console.log("setAuth error",e)}}leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t.isJoined()||t.isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e.trigger(K.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class re{constructor(e,t,r,n){const o={},s="*"===n?`realtime:${r}`:`realtime:${r}:${n}`,i=t.Authorization.split(" ")[1];i&&(o.user_token=i),this.subscription=e.channel(s,o)}getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=C(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=C(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,(e=>{let r={schema:e.schema,table:e.table,commit_timestamp:e.commit_timestamp,eventType:e.type,new:{},old:{},errors:e.errors};r=Object.assign(Object.assign({},r),this.getPayloadRecords(e)),t(r)})),this}subscribe(e=(()=>{})){return this.subscription.onError((t=>e("SUBSCRIPTION_ERROR",t))),this.subscription.onClose((()=>e("CLOSED"))),this.subscription.subscribe().receive("ok",(()=>e("SUBSCRIBED"))).receive("error",(t=>e("SUBSCRIPTION_ERROR",t))).receive("timeout",(()=>e("RETRYING_AFTER_TIMEOUT"))),this.subscription}}class ne extends P{constructor(e,{headers:t={},schema:r,realtime:n,table:o,fetch:s,shouldThrowOnError:i}){super(e,{headers:t,schema:r,fetch:s,shouldThrowOnError:i}),this._subscription=null,this._realtime=n,this._headers=t,this._schema=r,this._table=o}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new re(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}const oe={"X-Client-Info":"storage-js/0.0.0"};var se=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const ie=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function ae(e,t,r,n,o,s){return se(this,void 0,void 0,(function*(){return new Promise(((i,a)=>{e(r,((e,t,r,n)=>{const o={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))})(t,n,o,s)).then((e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?i(e):e.json()})).then((e=>i(e))).catch((e=>((e,t)=>{if("function"!=typeof e.json)return t(e);e.json().then((r=>t({message:ie(r),status:(null==e?void 0:e.status)||500})))})(e,a)))}))}))}function le(e,t,r,n){return se(this,void 0,void 0,(function*(){return ae(e,"GET",t,r,n)}))}function ue(e,t,r,n,o){return se(this,void 0,void 0,(function*(){return ae(e,"POST",t,n,o,r)}))}function ce(e,t,r,n,o){return se(this,void 0,void 0,(function*(){return ae(e,"DELETE",t,n,o,r)}))}const de=e=>{let t;return t=e||("undefined"==typeof fetch?v():fetch),(...e)=>t(...e)};var he=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))},pe=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const fe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ve={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class me{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=de(n)}uploadOrUpdate(e,t,r,n){return pe(this,void 0,void 0,(function*(){try{let o;const s=Object.assign(Object.assign({},ve),n),i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl)):(o=r,i["cache-control"]=`max-age=${s.cacheControl}`,i["content-type"]=s.contentType);const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),u=yield this.fetch(`${this.url}/object/${l}`,{method:e,body:o,headers:i});return u.ok?{data:{Key:l},error:null}:{data:null,error:yield u.json()}}catch(e){return{data:null,error:e}}}))}upload(e,t,r){return pe(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}update(e,t,r){return pe(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t){return pe(this,void 0,void 0,(function*(){try{return{data:yield ue(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}copy(e,t){return pe(this,void 0,void 0,(function*(){try{return{data:yield ue(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}createSignedUrl(e,t){return pe(this,void 0,void 0,(function*(){try{const r=this._getFinalPath(e);let n=yield ue(this.fetch,`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const o=`${this.url}${n.signedURL}`;return n={signedURL:o},{data:n,error:null,signedURL:o}}catch(e){return{data:null,error:e,signedURL:null}}}))}createSignedUrls(e,t){return pe(this,void 0,void 0,(function*(){try{return{data:(yield ue(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers})).map((e=>Object.assign(Object.assign({},e),{signedURL:e.signedURL?`${this.url}${e.signedURL}`:null}))),error:null}}catch(e){return{data:null,error:e}}}))}download(e){return pe(this,void 0,void 0,(function*(){try{const t=this._getFinalPath(e),r=yield le(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){return{data:null,error:e}}}))}getPublicUrl(e){try{const t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(e){return{data:null,error:e,publicURL:null}}}remove(e){return pe(this,void 0,void 0,(function*(){try{return{data:yield ce(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}list(e,t,r){return pe(this,void 0,void 0,(function*(){try{const n=Object.assign(Object.assign(Object.assign({},fe),t),{prefix:e||""});return{data:yield ue(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(e){return{data:null,error:e}}}))}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}class be extends class{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},oe),t),this.fetch=de(r)}listBuckets(){return he(this,void 0,void 0,(function*(){try{return{data:yield le(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}getBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield le(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}createBucket(e,t={public:!1}){return he(this,void 0,void 0,(function*(){try{return{data:(yield ue(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(e){return{data:null,error:e}}}))}updateBucket(e,t){return he(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r,n,o){return se(this,void 0,void 0,(function*(){return ae(e,"PUT",t,n,undefined,r)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers});return{data:r,error:null}}catch(e){return{data:null,error:e}}}))}emptyBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ue(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}deleteBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ce(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}}{constructor(e,t={},r){super(e,t,r)}from(e){return new me(this.url,this.headers,e,this.fetch)}}class ye{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?v():fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t){return r=this,n=void 0,s=function*(){try{const{headers:r,body:n}=null!=t?t:{},o=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign({},this.headers,r),body:n}),s=o.headers.get("x-relay-error");if(s&&"true"===s)return{data:null,error:new Error(yield o.text())};let i;const{responseType:a}=null!=t?t:{};return i=a&&"json"!==a?"arrayBuffer"===a?yield o.arrayBuffer():"blob"===a?yield o.blob():yield o.text():yield o.json(),{data:i,error:null}}catch(e){return{data:null,error:e}}},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(i,a)}l((s=s.apply(r,n||[])).next())}));var r,n,o,s}}var ge=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const we={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:n};class Se{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=e.replace(/\/$/,""),s=Object.assign(Object.assign({},we),r);if(this.restUrl=`${o}/rest/v1`,this.realtimeUrl=`${o}/realtime/v1`.replace("http","ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,o.match(/(supabase\.co)|(supabase\.in)/)){const e=o.split(".");this.functionsUrl=`${e[0]}.functions.${e[1]}.${e[2]}`}else this.functionsUrl=`${o}/functions/v1`;this.schema=s.schema,this.multiTab=s.multiTab,this.fetch=s.fetch,this.headers=Object.assign(Object.assign({},n),null==r?void 0:r.headers),this.shouldThrowOnError=s.shouldThrowOnError||!1,this.auth=this._initSupabaseAuthClient(s),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},s.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get functions(){return new ye(this.functionsUrl,{headers:this._getAuthHeaders(),customFetch:this.fetch})}get storage(){return new be(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){const t=`${this.restUrl}/${e}`;return new ne(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:r=!1,count:n=null}={}){return this._initPostgRESTClient().rpc(e,t,{head:r,count:n})}removeAllSubscriptions(){return ge(this,void 0,void 0,(function*(){const e=this.getSubscriptions().slice(),t=e.map((e=>this.removeSubscription(e)));return(yield Promise.all(t)).map((({error:t},r)=>({data:{subscription:e[r]},error:t})))}))}removeSubscription(e){return ge(this,void 0,void 0,(function*(){const{error:t}=yield this._closeSubscription(e),r=this.getSubscriptions(),n=r.filter((e=>e.isJoined())).length;return 0===r.length&&(yield this.realtime.disconnect()),{data:{openSubscriptions:n},error:t}}))}_closeSubscription(e){return ge(this,void 0,void 0,(function*(){let t=null;if(!e.isClosed()){const{error:r}=yield this._unsubscribeSubscription(e);t=r}return this.realtime.remove(e),{error:t}}))}_unsubscribeSubscription(e){return new Promise((t=>{e.unsubscribe().receive("ok",(()=>t({error:null}))).receive("error",(e=>t({error:e}))).receive("timeout",(()=>t({error:new Error("timed out")})))}))}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:n,headers:o,fetch:s}){const i={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new T({url:this.authUrl,headers:Object.assign(Object.assign({},o),i),autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:n,fetch:s})}_initRealtimeClient(e){return new te(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},null==e?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new I(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch,throwOnError:this.shouldThrowOnError})}_getAuthHeaders(){var e,t;const r=Object.assign({},this.headers),n=null!==(t=null===(e=this.auth.session())||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=r.Authorization||`Bearer ${n}`,r}_listenForMultiTabEvents(){if(!this.multiTab||"undefined"==typeof window||!(null===window||void 0===window?void 0:window.addEventListener))return null;try{return null===window||void 0===window?void 0:window.addEventListener("storage",(e=>{var t,r,n;if("supabase.auth.token"===e.key){const o=JSON.parse(String(e.newValue)),s=null!==(r=null===(t=null==o?void 0:o.currentSession)||void 0===t?void 0:t.access_token)&&void 0!==r?r:void 0,i=null===(n=this.auth.session())||void 0===n?void 0:n.access_token;s?!i&&s?this._handleTokenChanged("SIGNED_IN",s,"STORAGE"):i!==s&&this._handleTokenChanged("TOKEN_REFRESHED",s,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",s,"STORAGE")}}))}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,null==t?void 0:t.access_token,"CLIENT")}));return e}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===t?"SIGNED_OUT"!==e&&"USER_DELETED"!==e||(this.realtime.setAuth(this.supabaseKey),"STORAGE"==r&&this.auth.signOut()):(this.realtime.setAuth(t),"STORAGE"==r&&this.auth.setAuth(t),this.changedAccessToken=t)}}const xe=(e,t,r)=>new Se(e,t,r)},669:(e,t,r)=>{e.exports=r(609)},448:(e,t,r)=>{"use strict";var n=r(867),o=r(26),s=r(372),i=r(327),a=r(97),l=r(109),u=r(985),c=r(61),d=r(874),h=r(263);e.exports=function(e){return new Promise((function(t,r){var p,f=e.data,v=e.headers,m=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(f)&&delete v["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(g+":"+w)}var S=a(e.baseURL,e.url);function x(){if(y){var n="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,s={data:m&&"text"!==m&&"json"!==m?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:e,request:y};o((function(e){t(e),b()}),(function(e){r(e),b()}),s),y=null}}if(y.open(e.method.toUpperCase(),i(S,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(x)},y.onabort=function(){y&&(r(c("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){r(c("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(c(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},n.isStandardBrowserEnv()){var O=(e.withCredentials||u(S))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;O&&(v[e.xsrfHeaderName]=O)}"setRequestHeader"in y&&n.forEach(v,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete v[t]:y.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),m&&"json"!==m&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){y&&(r(!e||e&&e.type?new h("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),f||(f=null),y.send(f)}))}},609:(e,t,r)=>{"use strict";var n=r(867),o=r(849),s=r(321),i=r(185),a=function e(t){var r=new s(t),a=o(s.prototype.request,r);return n.extend(a,s.prototype,r),n.extend(a,r),a.create=function(r){return e(i(t,r))},a}(r(546));a.Axios=s,a.Cancel=r(263),a.CancelToken=r(972),a.isCancel=r(502),a.VERSION=r(288).version,a.all=function(e){return Promise.all(e)},a.spread=r(713),a.isAxiosError=r(268),e.exports=a,e.exports.default=a},263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},972:(e,t,r)=>{"use strict";var n=r(263);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,r)=>{"use strict";var n=r(867),o=r(327),s=r(782),i=r(572),a=r(185),l=r(875),u=l.validators;function c(e){this.defaults=e,this.interceptors={request:new s,response:new s}}c.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&l.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var s,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!o){var d=[i,void 0];for(Array.prototype.unshift.apply(d,n),d=d.concat(c),s=Promise.resolve(t);d.length;)s=s.then(d.shift(),d.shift());return s}for(var h=t;n.length;){var p=n.shift(),f=n.shift();try{h=p(h)}catch(e){f(e);break}}try{s=i(h)}catch(e){return Promise.reject(e)}for(;c.length;)s=s.then(c.shift(),c.shift());return s},c.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=c},782:(e,t,r)=>{"use strict";var n=r(867);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},97:(e,t,r)=>{"use strict";var n=r(793),o=r(303);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},61:(e,t,r)=>{"use strict";var n=r(481);e.exports=function(e,t,r,o,s){var i=new Error(e);return n(i,t,r,o,s)}},572:(e,t,r)=>{"use strict";var n=r(867),o=r(527),s=r(502),i=r(546),a=r(263);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},185:(e,t,r)=>{"use strict";var n=r(867);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function i(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function l(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||s,o=t(e);n.isUndefined(o)&&t!==l||(r[e]=o)})),r}},26:(e,t,r)=>{"use strict";var n=r(61);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},527:(e,t,r)=>{"use strict";var n=r(867),o=r(546);e.exports=function(e,t,r){var s=this||o;return n.forEach(r,(function(r){e=r.call(s,e,t)})),e}},546:(e,t,r)=>{"use strict";var n=r(867),o=r(16),s=r(481),i=r(874),a={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:i,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=r(448)),u),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(a)})),e.exports=c},874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},288:e=>{e.exports={version:"0.26.1"}},849:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},327:(e,t,r)=>{"use strict";var n=r(867);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},372:(e,t,r)=>{"use strict";var n=r(867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},268:(e,t,r)=>{"use strict";var n=r(867);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},985:(e,t,r)=>{"use strict";var n=r(867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},16:(e,t,r)=>{"use strict";var n=r(867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},109:(e,t,r)=>{"use strict";var n=r(867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,i={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},875:(e,t,r)=>{"use strict";var n=r(288).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,i){if(!1===e)throw new Error(o(n," has been removed"+(t?" in "+t:"")));return t&&!s[n]&&(s[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,i)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var s=n[o],i=t[s];if(i){var a=e[s],l=void 0===a||i(a,s,e);if(!0!==l)throw new TypeError("option "+s+" must be "+l)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:o}},867:(e,t,r)=>{"use strict";var n=r(849),o=Object.prototype.toString;function s(e){return Array.isArray(e)}function i(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===o.call(e)}function l(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===o.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:u,isUndefined:i,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return l(e)&&c(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)d(arguments[n],r);return t},extend:function(e,t,r){return d(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},98:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,i="ArrayBuffer"in e;if(i)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function v(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=u(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=c(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r,n,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},b.call(g.prototype),b.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];S.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function O(e,r){return new Promise((function(n,s){var i=new g(e,r);if(i.signal&&i.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new S(o,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",l)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}O.polyfill=!0,e.fetch||(e.fetch=O,e.Headers=h,e.Request=g,e.Response=S),t.Headers=h,t.Request=g,t.Response=S,t.fetch=O,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},284:e=>{var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},744:(e,t)=>{"use strict";t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r}},840:(e,t,r)=>{var n;if("object"==typeof globalThis)n=globalThis;else try{n=r(284)}catch(e){}finally{if(n||"undefined"==typeof window||(n=window),!n)throw new Error("Could not determine global this")}var o=n.WebSocket||n.MozWebSocket,s=r(387);function i(e,t){return t?new o(e,t):new o(e)}o&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(i,e,{get:function(){return o[e]}})})),e.exports={w3cwebsocket:o?i:null,version:s}},387:(e,t,r)=>{e.exports=r(794).version},611:(e,t,r)=>{"use strict";r.d(t,{$N:()=>V,Qm:()=>ke,Vq:()=>q,t9:()=>K,xY:()=>Te});var n=r(166);function o(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,o),n}function s({visible:e=!0,features:t=0,...r}){var n;return e||2&t&&r.props.static?i(r):1&t?o(null==(n=r.props.unmount)||n?0:1,{0:()=>null,1:()=>i({...r,props:{...r.props,hidden:!0,style:{display:"none"}}})}):i(r)}function i({props:e,attrs:t,slots:r,slot:o,name:s}){var i;let{as:l,...u}=a(e,["unmount","static"]),c=null==(i=r.default)?void 0:i.call(r,o);if("template"===l){if(Object.keys(u).length>0||Object.keys(t).length>0){let[e,...r]=null!=c?c:[];if(!function(e){return null!=e&&("string"==typeof e.type||"object"==typeof e.type||"function"==typeof e.type)}(e)||r.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(t)).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,n.Ho)(e,u)}return Array.isArray(c)&&1===c.length?c[0]:c}return(0,n.h)(l,u,c)}function a(e,t=[]){let r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}var l=0;function u(){return++l}function c(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),o=null!=n?n:-1,s=(()=>{switch(e.focus){case 0:return r.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=r.slice().reverse().findIndex(((e,r,n)=>!(-1!==o&&n.length-r-1>=o||t.resolveDisabled(e))));return-1===e?e:r.length-1-e}case 2:return r.findIndex(((e,r)=>!(r<=o||t.resolveDisabled(e))));case 3:{let e=r.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:r.length-1-e}case 4:return r.findIndex((r=>t.resolveId(r)===e.id));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===s?n:s}function d(e){return null==e||null==e.value?null:"$el"in e.value?e.value.$el:e.value}function h(e,t,r){"undefined"!=typeof window&&(0,n.m0)((n=>{window.addEventListener(e,t,r),n((()=>{window.removeEventListener(e,t,r)}))}))}var p=Symbol("Context");function f(){return(0,n.f3)(p,null)}function v(e){(0,n.JJ)(p,e)}function m(e,t){if(e)return e;let r=null!=t?t:"button";return"string"==typeof r&&"button"===r.toLowerCase()?"button":void 0}function b(e,t){let r=(0,n.iH)(m(e.value.type,e.value.as));return(0,n.bv)((()=>{r.value=m(e.value.type,e.value.as)})),(0,n.m0)((()=>{var e;r.value||!d(t)||d(t)instanceof HTMLButtonElement&&!(null==(e=d(t))?void 0:e.hasAttribute("type"))&&(r.value="button")})),r}function y({container:e,accept:t,walk:r,enabled:o}){(0,n.m0)((()=>{let n=e.value;if(!n||void 0!==o&&!o.value)return;let s=Object.assign((e=>t(e)),{acceptNode:t}),i=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,s,!1);for(;i.nextNode();)r(i.currentNode)}))}var g=Symbol("ComboboxContext");function w(e){let t=(0,n.f3)(g,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,w),t}return t}(0,n.aZ)({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},setup(e,{slots:t,attrs:r,emit:i}){let l=(0,n.iH)(1),u=(0,n.iH)(null),p=(0,n.iH)(null),f=(0,n.iH)(null),m=(0,n.iH)(null),b=(0,n.iH)({static:!1,hold:!1}),y=(0,n.iH)([]),w=(0,n.iH)(null),S=(0,n.Fl)((()=>e.modelValue)),x={comboboxState:l,value:S,inputRef:p,labelRef:u,buttonRef:f,optionsRef:m,disabled:(0,n.Fl)((()=>e.disabled)),options:y,activeOptionIndex:w,inputPropsRef:(0,n.iH)({displayValue:void 0}),optionsPropsRef:b,closeCombobox(){e.disabled||1!==l.value&&(l.value=1,w.value=null)},openCombobox(){e.disabled||0!==l.value&&(l.value=0)},goToOption(t,r){if(e.disabled||m.value&&!b.value.static&&1===l.value)return;let n=c(4===t?{focus:4,id:r}:{focus:t},{resolveItems:()=>y.value,resolveActiveIndex:()=>w.value,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});w.value!==n&&(w.value=n)},syncInputValue(){let e=x.value.value;if(!d(x.inputRef)||void 0===e)return;let t=x.inputPropsRef.value.displayValue;"function"==typeof t?x.inputRef.value.value=t(e):"string"==typeof e&&(x.inputRef.value.value=e)},selectOption(e){let t=y.value.find((t=>t.id===e));if(!t)return;let{dataRef:r}=t;i("update:modelValue",r.value),x.syncInputValue()},selectActiveOption(){if(null===w.value)return;let{dataRef:e}=y.value[w.value];i("update:modelValue",e.value),x.syncInputValue()},registerOption(e,t){var r,n;let o=null!==w.value?y.value[w.value]:null,s=Array.from(null!=(n=null==(r=m.value)?void 0:r.querySelectorAll('[id^="headlessui-combobox-option-"]'))?n:[]).reduce(((e,t,r)=>Object.assign(e,{[t.id]:r})),{});y.value=[...y.value,{id:e,dataRef:t}].sort(((e,t)=>s[e.id]-s[t.id])),w.value=null===o?null:y.value.indexOf(o)},unregisterOption(e){let t=y.value.slice(),r=null!==w.value?t[w.value]:null,n=t.findIndex((t=>t.id===e));-1!==n&&t.splice(n,1),y.value=t,w.value=n===w.value||null===r?null:t.indexOf(r)}};h("mousedown",(e=>{var t,r,n;let o=e.target;0===l.value&&((null==(t=d(p))?void 0:t.contains(o))||(null==(r=d(f))?void 0:r.contains(o))||(null==(n=d(m))?void 0:n.contains(o))||x.closeCombobox())})),(0,n.YP)([x.value,x.inputRef],(()=>x.syncInputValue()),{immediate:!0}),(0,n.JJ)(g,x),v((0,n.Fl)((()=>o(l.value,{0:0,1:1}))));let O=(0,n.Fl)((()=>null===w.value?null:y.value[w.value].dataRef.value));return()=>{let n={open:0===l.value,disabled:e.disabled,activeIndex:w.value,activeOption:O.value};return s({props:a(e,["modelValue","onUpdate:modelValue","disabled"]),slot:n,slots:t,attrs:r,name:"Combobox"})}}}),(0,n.aZ)({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(e,{attrs:t,slots:r}){let n=w("ComboboxLabel"),o=`headlessui-combobox-label-${u()}`;function i(){var e;null==(e=d(n.inputRef))||e.focus({preventScroll:!0})}return()=>{let a={open:0===n.comboboxState.value,disabled:n.disabled.value},l={id:o,ref:n.labelRef,onClick:i};return s({props:{...e,...l},slot:a,attrs:t,slots:r,name:"ComboboxLabel"})}}}),(0,n.aZ)({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:r}){let o=w("ComboboxButton"),i=`headlessui-combobox-button-${u()}`;function a(e){o.disabled.value||(0===o.comboboxState.value?o.closeCombobox():(e.preventDefault(),o.openCombobox()),(0,n.Y3)((()=>{var e;return null==(e=d(o.inputRef))?void 0:e.focus({preventScroll:!0})})))}function l(e){switch(e.key){case"ArrowDown":return e.preventDefault(),e.stopPropagation(),1===o.comboboxState.value&&(o.openCombobox(),(0,n.Y3)((()=>{o.value.value||o.goToOption(0)}))),void(0,n.Y3)((()=>{var e;return null==(e=o.inputRef.value)?void 0:e.focus({preventScroll:!0})}));case"ArrowUp":return e.preventDefault(),e.stopPropagation(),1===o.comboboxState.value&&(o.openCombobox(),(0,n.Y3)((()=>{o.value.value||o.goToOption(3)}))),void(0,n.Y3)((()=>{var e;return null==(e=o.inputRef.value)?void 0:e.focus({preventScroll:!0})}));case"Escape":return e.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&e.stopPropagation(),o.closeCombobox(),void(0,n.Y3)((()=>{var e;return null==(e=o.inputRef.value)?void 0:e.focus({preventScroll:!0})}))}}let c=b((0,n.Fl)((()=>({as:e.as,type:t.type}))),o.buttonRef);return()=>{var n,u;let h={open:0===o.comboboxState.value,disabled:o.disabled.value},p={ref:o.buttonRef,id:i,type:c.value,tabindex:"-1","aria-haspopup":!0,"aria-controls":null==(n=d(o.optionsRef))?void 0:n.id,"aria-expanded":o.disabled.value?void 0:0===o.comboboxState.value,"aria-labelledby":o.labelRef.value?[null==(u=d(o.labelRef))?void 0:u.id,i].join(" "):void 0,disabled:!0===o.disabled.value||void 0,onKeydown:l,onClick:a};return s({props:{...e,...p},slot:h,attrs:t,slots:r,name:"ComboboxButton"})}}}),(0,n.aZ)({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function}},emits:{change:e=>!0},setup(e,{emit:t,attrs:r,slots:i}){let l=w("ComboboxInput"),c=`headlessui-combobox-input-${u()}`;function h(e){switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),l.selectActiveOption(),l.closeCombobox();break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),o(l.comboboxState.value,{0:()=>l.goToOption(2),1:()=>{l.openCombobox(),(0,n.Y3)((()=>{l.value.value||l.goToOption(0)}))}});case"ArrowUp":return e.preventDefault(),e.stopPropagation(),o(l.comboboxState.value,{0:()=>l.goToOption(1),1:()=>{l.openCombobox(),(0,n.Y3)((()=>{l.value.value||l.goToOption(3)}))}});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),l.goToOption(0);case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),l.goToOption(3);case"Escape":e.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&e.stopPropagation(),l.closeCombobox();break;case"Tab":l.selectActiveOption(),l.closeCombobox()}}function p(e){l.openCombobox(),t("change",e)}return l.inputPropsRef=(0,n.Fl)((()=>e)),()=>{var t,n,o,u,f;let v={open:0===l.comboboxState.value},m={"aria-controls":null==(t=l.optionsRef.value)?void 0:t.id,"aria-expanded":l.disabled?void 0:0===l.comboboxState.value,"aria-activedescendant":null===l.activeOptionIndex.value||null==(n=l.options.value[l.activeOptionIndex.value])?void 0:n.id,"aria-labelledby":null!=(f=null==(o=d(l.labelRef))?void 0:o.id)?f:null==(u=d(l.buttonRef))?void 0:u.id,id:c,onKeydown:h,onChange:p,onInput:p,role:"combobox",type:"text",tabIndex:0,ref:l.inputRef};return s({props:{...a(e,["displayValue"]),...m},slot:v,attrs:r,slots:i,features:3,name:"ComboboxInput"})}}}),(0,n.aZ)({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:r}){let o=w("ComboboxOptions"),i=`headlessui-combobox-options-${u()}`;(0,n.m0)((()=>{o.optionsPropsRef.value.static=e.static})),(0,n.m0)((()=>{o.optionsPropsRef.value.hold=e.hold}));let l=f(),c=(0,n.Fl)((()=>null!==l?0===l.value:0===o.comboboxState.value));return y({container:(0,n.Fl)((()=>d(o.optionsRef))),enabled:(0,n.Fl)((()=>0===o.comboboxState.value)),accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}}),()=>{var n,l,u,h;let p={open:0===o.comboboxState.value},f={"aria-activedescendant":null===o.activeOptionIndex.value||null==(n=o.options.value[o.activeOptionIndex.value])?void 0:n.id,"aria-labelledby":null!=(h=null==(l=d(o.labelRef))?void 0:l.id)?h:null==(u=d(o.buttonRef))?void 0:u.id,id:i,ref:o.optionsRef,role:"listbox"};return s({props:{...a(e,["hold"]),...f},slot:p,attrs:t,slots:r,features:3,visible:c.value,name:"ComboboxOptions"})}}}),(0,n.aZ)({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:r}){let o=w("ComboboxOption"),i=`headlessui-combobox-option-${u()}`,a=(0,n.Fl)((()=>null!==o.activeOptionIndex.value&&o.options.value[o.activeOptionIndex.value].id===i)),l=(0,n.Fl)((()=>(0,n.IU)(o.value.value)===(0,n.IU)(e.value))),c=(0,n.Fl)((()=>({disabled:e.disabled,value:e.value})));function h(t){if(e.disabled)return t.preventDefault();o.selectOption(i),o.closeCombobox(),(0,n.Y3)((()=>{var e;return null==(e=d(o.inputRef))?void 0:e.focus({preventScroll:!0})}))}function p(){if(e.disabled)return o.goToOption(5);o.goToOption(4,i)}function f(){e.disabled||a.value||o.goToOption(4,i)}function v(){e.disabled||!a.value||o.optionsPropsRef.value.hold||o.goToOption(5)}return(0,n.bv)((()=>o.registerOption(i,c))),(0,n.SK)((()=>o.unregisterOption(i))),(0,n.bv)((()=>{(0,n.YP)([o.comboboxState,l],(()=>{0===o.comboboxState.value&&(!l.value||o.goToOption(4,i))}),{immediate:!0})})),(0,n.m0)((()=>{0===o.comboboxState.value&&(!a.value||(0,n.Y3)((()=>{var e,t;return null==(t=null==(e=document.getElementById(i))?void 0:e.scrollIntoView)?void 0:t.call(e,{block:"nearest"})})))})),()=>{let{disabled:n}=e,o={active:a.value,selected:l.value,disabled:n},u={id:i,role:"option",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-selected":!0===l.value?l.value:void 0,disabled:void 0,onClick:h,onFocus:p,onPointermove:f,onMousemove:f,onPointerleave:v,onMouseleave:v};return s({props:{...e,...u},slot:o,attrs:r,slots:t,name:"ComboboxOption"})}}});var S=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");function x(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(S))}function O(e){null==e||e.focus({preventScroll:!0})}function T(e,t){let r,n=Array.isArray(e)?e.slice().sort(((e,t)=>{let r=e.compareDocumentPosition(t);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})):x(e),o=document.activeElement,s=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,n.indexOf(o))-1;if(4&t)return Math.max(0,n.indexOf(o))+1;if(8&t)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=32&t?{preventScroll:!0}:{},l=0,u=n.length;do{if(l>=u||l+u<=0)return 0;let e=i+l;if(16&t)e=(e+u)%u;else{if(e<0)return 3;if(e>=u)return 1}r=n[e],null==r||r.focus(a),l+=s}while(r!==document.activeElement);return r.hasAttribute("tabindex")||r.setAttribute("tabindex","0"),2}function E(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function k(e,t=(0,n.iH)(!0),r=(0,n.iH)({})){let o=(0,n.iH)("undefined"!=typeof window?document.activeElement:null),s=(0,n.iH)(null);function i(){if(!t.value||1!==e.value.size)return;let{initialFocus:n}=r.value,i=document.activeElement;if(n){if(n===i)return}else if(E(e.value,i))return;if(o.value=i,n)O(n);else{let t=!1;for(let r of e.value)if(2===T(r,1)){t=!0;break}t||console.warn("There are no focusable elements inside the <FocusTrap />")}s.value=document.activeElement}function a(){O(o.value),o.value=null,s.value=null}(0,n.m0)(i),(0,n.ic)((()=>{t.value?i():a()})),(0,n.SK)(a),h("keydown",(r=>{if(t.value&&"Tab"===r.key&&document.activeElement&&1===e.value.size){r.preventDefault();for(let t of e.value)if(2===T(t,16|(r.shiftKey?2:4))){s.value=document.activeElement;break}}})),h("focus",(r=>{if(!t.value||1!==e.value.size)return;let n=s.value;if(!n)return;let o=r.target;o&&o instanceof HTMLElement?E(e.value,o)?(s.value=o,O(o)):(r.preventDefault(),r.stopPropagation(),O(n)):O(s.value)}),!0)}var _="body > *",P=new Set,j=new Map;function R(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function I(e){let t=j.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var $=Symbol("StackContext");function C(){return(0,n.f3)($,(()=>{}))}function A(e){let t=C();(0,n.JJ)($,(function(...r){null==e||e(...r),t(...r)}))}var D=Symbol("ForcePortalRootContext"),F=(0,n.aZ)({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup:(e,{slots:t,attrs:r})=>((0,n.JJ)(D,e.force),()=>{let{force:n,...o}=e;return s({props:o,slot:{},slots:t,attrs:r,name:"ForcePortalRoot"})})}),U=(0,n.aZ)({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:r}){let o=(0,n.f3)(D,!1),i=(0,n.f3)(N,null),a=(0,n.iH)(!0===o||null===i?function(){let e=document.getElementById("headlessui-portal-root");if(e)return e;let t=document.createElement("div");return t.setAttribute("id","headlessui-portal-root"),document.body.appendChild(t)}():i.resolveTarget());(0,n.m0)((()=>{o||null!==i&&(a.value=i.resolveTarget())}));let l=(0,n.iH)(null);return function(e){let t=C();(0,n.m0)((r=>{let n=null==e?void 0:e.value;!n||(t(0,n),r((()=>t(1,n))))}))}(l),(0,n.SK)((()=>{var e;let t=document.getElementById("headlessui-portal-root");!t||a.value===t&&a.value.children.length<=0&&(null==(e=a.value.parentElement)||e.removeChild(a.value))})),A(),()=>{if(null===a.value)return null;let o={ref:l};return(0,n.h)(n.lR,{to:a.value},s({props:{...e,...o},slot:{},attrs:r,slots:t,name:"Portal"}))}}}),N=Symbol("PortalGroupContext"),B=(0,n.aZ)({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:r}){let o=(0,n.qj)({resolveTarget:()=>e.target});return(0,n.JJ)(N,o),()=>{let{target:n,...o}=e;return s({props:o,slot:{},attrs:t,slots:r,name:"PortalGroup"})}}}),L=Symbol("DescriptionContext");function H({slot:e=(0,n.iH)({}),name:t="Description",props:r={}}={}){let o=(0,n.iH)([]);return(0,n.JJ)(L,{register:function(e){return o.value.push(e),()=>{let t=o.value.indexOf(e);-1!==t&&o.value.splice(t,1)}},slot:e,name:t,props:r}),(0,n.Fl)((()=>o.value.length>0?o.value.join(" "):void 0))}(0,n.aZ)({name:"Description",props:{as:{type:[Object,String],default:"p"}},setup(e,{attrs:t,slots:r}){let o=function(){let e=(0,n.f3)(L,null);if(null===e)throw new Error("Missing parent");return e}(),i=`headlessui-description-${u()}`;return(0,n.bv)((()=>(0,n.SK)(o.register(i)))),()=>{let{name:a="Description",slot:l=(0,n.iH)({}),props:u={}}=o;return s({props:{...e,...{...Object.entries(u).reduce(((e,[t,r])=>Object.assign(e,{[t]:(0,n.SU)(r)})),{}),id:i}},slot:l.value,attrs:t,slots:r,name:a})}}});var M=Symbol("DialogContext");function J(e){let t=(0,n.f3)(M,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,J),t}return t}var G="DC8F892D-2EBD-447C-A4C8-A03058436FF4",q=(0,n.aZ)({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:G},initialFocus:{type:Object,default:null}},emits:{close:e=>!0},setup(e,{emit:t,attrs:r,slots:i}){let a=(0,n.iH)(new Set),l=f(),c=(0,n.Fl)((()=>e.open===G&&null!==l?o(l.value,{0:!0,1:!1}):e.open));if(e.open===G&&null===l)throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if("boolean"!=typeof c.value)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${c.value===G?void 0:e.open}`);let p=(0,n.Fl)((()=>e.open?0:1)),v=(0,n.Fl)((()=>null!==l?0===l.value:0===p.value)),m=(0,n.iH)(null),b=(0,n.iH)(0===p.value);(0,n.ic)((()=>{b.value=0===p.value}));let y=`headlessui-dialog-${u()}`,g=(0,n.Fl)((()=>({initialFocus:e.initialFocus})));k(a,b,g),function(e,t=(0,n.iH)(!0)){(0,n.m0)((r=>{if(!t.value||!e.value)return;let n=e.value;P.add(n);for(let e of j.keys())e.contains(n)&&(I(e),j.delete(e));document.querySelectorAll(_).forEach((e=>{if(e instanceof HTMLElement){for(let t of P)if(e.contains(t))return;1===P.size&&(j.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),R(e))}})),r((()=>{if(P.delete(n),P.size>0)document.querySelectorAll(_).forEach((e=>{if(e instanceof HTMLElement&&!j.has(e)){for(let t of P)if(e.contains(t))return;j.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),R(e)}}));else for(let e of j.keys())I(e),j.delete(e)}))}))}(m,b),A(((e,t)=>o(e,{0(){a.value.add(t)},1(){a.value.delete(t)}})));let w=H({name:"DialogDescription",slot:(0,n.Fl)((()=>({open:c.value})))}),S=(0,n.iH)(null),x={titleId:S,dialogState:p,setTitleId(e){S.value!==e&&(S.value=e)},close(){t("close",!1)}};function O(e){e.stopPropagation()}return(0,n.JJ)(M,x),h("mousedown",(e=>{let t=e.target;0===p.value&&1===a.value.size&&(E(a.value,t)||(x.close(),(0,n.Y3)((()=>null==t?void 0:t.focus()))))})),h("keydown",(e=>{"Escape"===e.key&&0===p.value&&(a.value.size>1||(e.preventDefault(),e.stopPropagation(),x.close()))})),(0,n.m0)((e=>{if(0!==p.value)return;let t=document.documentElement.style.overflow,r=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${n}px`,e((()=>{document.documentElement.style.overflow=t,document.documentElement.style.paddingRight=r}))})),(0,n.m0)((e=>{if(0!==p.value)return;let t=d(m);if(!t)return;let r=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&x.close()}));r.observe(t),e((()=>r.disconnect()))})),()=>{let t={...r,ref:m,id:y,role:"dialog","aria-modal":0===p.value||void 0,"aria-labelledby":S.value,"aria-describedby":w.value,onClick:O},{open:o,initialFocus:a,...l}=e,u={open:0===p.value};return(0,n.h)(F,{force:!0},(()=>(0,n.h)(U,(()=>(0,n.h)(B,{target:m.value},(()=>(0,n.h)(F,{force:!1},(()=>s({props:{...l,...t},slot:u,attrs:r,slots:i,visible:v.value,features:3,name:"Dialog"})))))))))}}}),K=(0,n.aZ)({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:r}){let n=J("DialogOverlay"),o=`headlessui-dialog-overlay-${u()}`;function i(e){e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),n.close())}return()=>s({props:{...e,id:o,"aria-hidden":!0,onClick:i},slot:{open:0===n.dialogState.value},attrs:t,slots:r,name:"DialogOverlay"})}}),V=(0,n.aZ)({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"}},setup(e,{attrs:t,slots:r}){let o=J("DialogTitle"),i=`headlessui-dialog-title-${u()}`;return(0,n.bv)((()=>{o.setTitleId(i),(0,n.SK)((()=>o.setTitleId(null)))})),()=>s({props:{...e,id:i},slot:{open:0===o.dialogState.value},attrs:t,slots:r,name:"DialogTitle"})}}),z=Symbol("DisclosureContext");function Z(e){let t=(0,n.f3)(z,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Z),t}return t}var Y=Symbol("DisclosurePanelContext");(0,n.aZ)({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:r}){let i=`headlessui-disclosure-button-${u()}`,a=`headlessui-disclosure-panel-${u()}`,l=(0,n.iH)(e.defaultOpen?0:1),c=(0,n.iH)(null),h=(0,n.iH)(null),p={buttonId:i,panelId:a,disclosureState:l,panel:c,button:h,toggleDisclosure(){l.value=o(l.value,{0:1,1:0})},closeDisclosure(){1!==l.value&&(l.value=1)},close(e){p.closeDisclosure();let t=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?d(e):d(p.button):d(p.button);null==t||t.focus()}};return(0,n.JJ)(z,p),v((0,n.Fl)((()=>o(l.value,{0:0,1:1})))),()=>{let{defaultOpen:n,...o}=e;return s({props:o,slot:{open:0===l.value,close:p.close},slots:t,attrs:r,name:"Disclosure"})}}}),(0,n.aZ)({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:r}){let o=Z("DisclosureButton"),i=(0,n.f3)(Y,null),a=null!==i&&i===o.panelId,l=(0,n.iH)(null);a||(0,n.m0)((()=>{o.button.value=l.value}));let u=b((0,n.Fl)((()=>({as:e.as,type:t.type}))),l);function c(){var t;e.disabled||(a?(o.toggleDisclosure(),null==(t=d(o.button))||t.focus()):o.toggleDisclosure())}function h(t){var r;if(!e.disabled)if(a)switch(t.key){case" ":case"Enter":t.preventDefault(),t.stopPropagation(),o.toggleDisclosure(),null==(r=d(o.button))||r.focus()}else switch(t.key){case" ":case"Enter":t.preventDefault(),t.stopPropagation(),o.toggleDisclosure()}}function p(e){" "===e.key&&e.preventDefault()}return()=>{let n={open:0===o.disclosureState.value},i=a?{ref:l,type:u.value,onClick:c,onKeydown:h}:{id:o.buttonId,ref:l,type:u.value,"aria-expanded":e.disabled?void 0:0===o.disclosureState.value,"aria-controls":d(o.panel)?o.panelId:void 0,disabled:!!e.disabled||void 0,onClick:c,onKeydown:h,onKeyup:p};return s({props:{...e,...i},slot:n,attrs:t,slots:r,name:"DisclosureButton"})}}}),(0,n.aZ)({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:r}){let o=Z("DisclosurePanel");(0,n.JJ)(Y,o.panelId);let i=f(),a=(0,n.Fl)((()=>null!==i?0===i.value:0===o.disclosureState.value));return()=>{let n={open:0===o.disclosureState.value,close:o.close},i={id:o.panelId,ref:o.panel};return s({props:{...e,...i},slot:n,attrs:t,slots:r,features:3,visible:a.value,name:"DisclosurePanel"})}}}),(0,n.aZ)({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null}},setup(e,{attrs:t,slots:r}){let o=(0,n.iH)(new Set),i=(0,n.iH)(null),a=(0,n.iH)(!0),l=(0,n.Fl)((()=>({initialFocus:e.initialFocus})));return(0,n.bv)((()=>{!i.value||(o.value.add(i.value),k(o,a,l))})),(0,n.SK)((()=>{a.value=!1})),()=>{let n={ref:i},{initialFocus:o,...a}=e;return s({props:{...a,...n},slot:{},attrs:t,slots:r,name:"FocusTrap"})}}});var W=Symbol("ListboxContext");function X(e){let t=(0,n.f3)(W,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,X),t}return t}(0,n.aZ)({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},setup(e,{slots:t,attrs:r,emit:i}){let l=(0,n.iH)(1),u=(0,n.iH)(null),p=(0,n.iH)(null),f=(0,n.iH)(null),m=(0,n.iH)([]),b=(0,n.iH)(""),y=(0,n.iH)(null),g=(0,n.Fl)((()=>e.modelValue)),w={listboxState:l,value:g,orientation:(0,n.Fl)((()=>e.horizontal?"horizontal":"vertical")),labelRef:u,buttonRef:p,optionsRef:f,disabled:(0,n.Fl)((()=>e.disabled)),options:m,searchQuery:b,activeOptionIndex:y,closeListbox(){e.disabled||1!==l.value&&(l.value=1,y.value=null)},openListbox(){e.disabled||0!==l.value&&(l.value=0)},goToOption(t,r){if(e.disabled||1===l.value)return;let n=c(4===t?{focus:4,id:r}:{focus:t},{resolveItems:()=>m.value,resolveActiveIndex:()=>y.value,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});""===b.value&&y.value===n||(b.value="",y.value=n)},search(t){if(e.disabled||1===l.value)return;let r=""!==b.value?0:1;b.value+=t.toLowerCase();let n=(null!==y.value?m.value.slice(y.value+r).concat(m.value.slice(0,y.value+r)):m.value).find((e=>e.dataRef.textValue.startsWith(b.value)&&!e.dataRef.disabled)),o=n?m.value.indexOf(n):-1;-1===o||o===y.value||(y.value=o)},clearSearch(){e.disabled||1!==l.value&&""!==b.value&&(b.value="")},registerOption(e,t){var r,n;let o=Array.from(null!=(n=null==(r=f.value)?void 0:r.querySelectorAll('[id^="headlessui-listbox-option-"]'))?n:[]).reduce(((e,t,r)=>Object.assign(e,{[t.id]:r})),{});m.value=[...m.value,{id:e,dataRef:t}].sort(((e,t)=>o[e.id]-o[t.id]))},unregisterOption(e){let t=m.value.slice(),r=null!==y.value?t[y.value]:null,n=t.findIndex((t=>t.id===e));-1!==n&&t.splice(n,1),m.value=t,y.value=n===y.value||null===r?null:t.indexOf(r)},select(t){e.disabled||i("update:modelValue",t)}};return h("mousedown",(e=>{var t,r,n;let o=e.target,s=document.activeElement;0===l.value&&((null==(t=d(p))?void 0:t.contains(o))||((null==(r=d(f))?void 0:r.contains(o))||w.closeListbox(),(s===document.body||!(null==s?void 0:s.contains(o)))&&(e.defaultPrevented||null==(n=d(p))||n.focus({preventScroll:!0}))))})),(0,n.JJ)(W,w),v((0,n.Fl)((()=>o(l.value,{0:0,1:1})))),()=>{let n={open:0===l.value,disabled:e.disabled};return s({props:a(e,["modelValue","onUpdate:modelValue","disabled","horizontal"]),slot:n,slots:t,attrs:r,name:"Listbox"})}}}),(0,n.aZ)({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(e,{attrs:t,slots:r}){let n=X("ListboxLabel"),o=`headlessui-listbox-label-${u()}`;function i(){var e;null==(e=d(n.buttonRef))||e.focus({preventScroll:!0})}return()=>{let a={open:0===n.listboxState.value,disabled:n.disabled.value},l={id:o,ref:n.labelRef,onClick:i};return s({props:{...e,...l},slot:a,attrs:t,slots:r,name:"ListboxLabel"})}}}),(0,n.aZ)({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:r}){let o=X("ListboxButton"),i=`headlessui-listbox-button-${u()}`;function a(e){switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),o.openListbox(),(0,n.Y3)((()=>{var e;null==(e=d(o.optionsRef))||e.focus({preventScroll:!0}),o.value.value||o.goToOption(0)}));break;case"ArrowUp":e.preventDefault(),o.openListbox(),(0,n.Y3)((()=>{var e;null==(e=d(o.optionsRef))||e.focus({preventScroll:!0}),o.value.value||o.goToOption(3)}))}}function l(e){" "===e.key&&e.preventDefault()}function c(e){o.disabled.value||(0===o.listboxState.value?(o.closeListbox(),(0,n.Y3)((()=>{var e;return null==(e=d(o.buttonRef))?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),o.openListbox(),function(e){requestAnimationFrame((()=>requestAnimationFrame(e)))}((()=>{var e;return null==(e=d(o.optionsRef))?void 0:e.focus({preventScroll:!0})}))))}let h=b((0,n.Fl)((()=>({as:e.as,type:t.type}))),o.buttonRef);return()=>{var n,u;let p={open:0===o.listboxState.value,disabled:o.disabled.value},f={ref:o.buttonRef,id:i,type:h.value,"aria-haspopup":!0,"aria-controls":null==(n=d(o.optionsRef))?void 0:n.id,"aria-expanded":o.disabled.value?void 0:0===o.listboxState.value,"aria-labelledby":o.labelRef.value?[null==(u=d(o.labelRef))?void 0:u.id,i].join(" "):void 0,disabled:!0===o.disabled.value||void 0,onKeydown:a,onKeyup:l,onClick:c};return s({props:{...e,...f},slot:p,attrs:t,slots:r,name:"ListboxButton"})}}}),(0,n.aZ)({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:r}){let i=X("ListboxOptions"),a=`headlessui-listbox-options-${u()}`,l=(0,n.iH)(null);function c(e){switch(l.value&&clearTimeout(l.value),e.key){case" ":if(""!==i.searchQuery.value)return e.preventDefault(),e.stopPropagation(),i.search(e.key);case"Enter":if(e.preventDefault(),e.stopPropagation(),null!==i.activeOptionIndex.value){let{dataRef:e}=i.options.value[i.activeOptionIndex.value];i.select(e.value)}i.closeListbox(),(0,n.Y3)((()=>{var e;return null==(e=d(i.buttonRef))?void 0:e.focus({preventScroll:!0})}));break;case o(i.orientation.value,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return e.preventDefault(),e.stopPropagation(),i.goToOption(2);case o(i.orientation.value,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return e.preventDefault(),e.stopPropagation(),i.goToOption(1);case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),i.goToOption(0);case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),i.goToOption(3);case"Escape":e.preventDefault(),e.stopPropagation(),i.closeListbox(),(0,n.Y3)((()=>{var e;return null==(e=d(i.buttonRef))?void 0:e.focus({preventScroll:!0})}));break;case"Tab":e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(i.search(e.key),l.value=setTimeout((()=>i.clearSearch()),350))}}let h=f(),p=(0,n.Fl)((()=>null!==h?0===h.value:0===i.listboxState.value));return()=>{var n,o,l,u;let h={open:0===i.listboxState.value},f={"aria-activedescendant":null===i.activeOptionIndex.value||null==(n=i.options.value[i.activeOptionIndex.value])?void 0:n.id,"aria-labelledby":null!=(u=null==(o=d(i.labelRef))?void 0:o.id)?u:null==(l=d(i.buttonRef))?void 0:l.id,"aria-orientation":i.orientation.value,id:a,onKeydown:c,role:"listbox",tabIndex:0,ref:i.optionsRef};return s({props:{...e,...f},slot:h,attrs:t,slots:r,features:3,visible:p.value,name:"ListboxOptions"})}}}),(0,n.aZ)({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:r}){let o=X("ListboxOption"),i=`headlessui-listbox-option-${u()}`,a=(0,n.Fl)((()=>null!==o.activeOptionIndex.value&&o.options.value[o.activeOptionIndex.value].id===i)),l=(0,n.Fl)((()=>(0,n.IU)(o.value.value)===(0,n.IU)(e.value))),c=(0,n.iH)({disabled:e.disabled,value:e.value,textValue:""});function h(t){if(e.disabled)return t.preventDefault();o.select(e.value),o.closeListbox(),(0,n.Y3)((()=>{var e;return null==(e=d(o.buttonRef))?void 0:e.focus({preventScroll:!0})}))}function p(){if(e.disabled)return o.goToOption(5);o.goToOption(4,i)}function f(){e.disabled||a.value||o.goToOption(4,i)}function v(){e.disabled||!a.value||o.goToOption(5)}return(0,n.bv)((()=>{var e,t;let r=null==(t=null==(e=document.getElementById(i))?void 0:e.textContent)?void 0:t.toLowerCase().trim();void 0!==r&&(c.value.textValue=r)})),(0,n.bv)((()=>o.registerOption(i,c))),(0,n.SK)((()=>o.unregisterOption(i))),(0,n.bv)((()=>{(0,n.YP)([o.listboxState,l],(()=>{var e,t;0===o.listboxState.value&&(!l.value||(o.goToOption(4,i),null==(t=null==(e=document.getElementById(i))?void 0:e.focus)||t.call(e)))}),{immediate:!0})})),(0,n.m0)((()=>{0===o.listboxState.value&&(!a.value||(0,n.Y3)((()=>{var e,t;return null==(t=null==(e=document.getElementById(i))?void 0:e.scrollIntoView)?void 0:t.call(e,{block:"nearest"})})))})),()=>{let{disabled:n}=e,o={active:a.value,selected:l.value,disabled:n},u={id:i,role:"option",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-selected":!0===l.value?l.value:void 0,disabled:void 0,onClick:h,onFocus:p,onPointermove:f,onMousemove:f,onPointerleave:v,onMouseleave:v};return s({props:{...e,...u},slot:o,attrs:r,slots:t,name:"ListboxOption"})}}});var Q=Symbol("MenuContext");function ee(e){let t=(0,n.f3)(Q,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ee),t}return t}(0,n.aZ)({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:r}){let i=(0,n.iH)(1),a=(0,n.iH)(null),l=(0,n.iH)(null),u=(0,n.iH)([]),p=(0,n.iH)(""),f=(0,n.iH)(null),m={menuState:i,buttonRef:a,itemsRef:l,items:u,searchQuery:p,activeItemIndex:f,closeMenu:()=>{i.value=1,f.value=null},openMenu:()=>i.value=0,goToItem(e,t){let r=c(4===e?{focus:4,id:t}:{focus:e},{resolveItems:()=>u.value,resolveActiveIndex:()=>f.value,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});""===p.value&&f.value===r||(p.value="",f.value=r)},search(e){let t=""!==p.value?0:1;p.value+=e.toLowerCase();let r=(null!==f.value?u.value.slice(f.value+t).concat(u.value.slice(0,f.value+t)):u.value).find((e=>e.dataRef.textValue.startsWith(p.value)&&!e.dataRef.disabled)),n=r?u.value.indexOf(r):-1;-1===n||n===f.value||(f.value=n)},clearSearch(){p.value=""},registerItem(e,t){var r,n;let o=Array.from(null!=(n=null==(r=l.value)?void 0:r.querySelectorAll('[id^="headlessui-menu-item-"]'))?n:[]).reduce(((e,t,r)=>Object.assign(e,{[t.id]:r})),{});u.value=[...u.value,{id:e,dataRef:t}].sort(((e,t)=>o[e.id]-o[t.id]))},unregisterItem(e){let t=u.value.slice(),r=null!==f.value?t[f.value]:null,n=t.findIndex((t=>t.id===e));-1!==n&&t.splice(n,1),u.value=t,f.value=n===f.value||null===r?null:t.indexOf(r)}};return h("mousedown",(e=>{var t,r,n;let o=e.target,s=document.activeElement;0===i.value&&((null==(t=d(a))?void 0:t.contains(o))||((null==(r=d(l))?void 0:r.contains(o))||m.closeMenu(),(s===document.body||!(null==s?void 0:s.contains(o)))&&(e.defaultPrevented||null==(n=d(a))||n.focus({preventScroll:!0}))))})),(0,n.JJ)(Q,m),v((0,n.Fl)((()=>o(i.value,{0:0,1:1})))),()=>{let n={open:0===i.value};return s({props:e,slot:n,slots:t,attrs:r,name:"Menu"})}}}),(0,n.aZ)({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:r}){let o=ee("MenuButton"),i=`headlessui-menu-button-${u()}`;function a(e){switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),e.stopPropagation(),o.openMenu(),(0,n.Y3)((()=>{var e;null==(e=d(o.itemsRef))||e.focus({preventScroll:!0}),o.goToItem(0)}));break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),o.openMenu(),(0,n.Y3)((()=>{var e;null==(e=d(o.itemsRef))||e.focus({preventScroll:!0}),o.goToItem(3)}))}}function l(e){" "===e.key&&e.preventDefault()}function c(t){e.disabled||(0===o.menuState.value?(o.closeMenu(),(0,n.Y3)((()=>{var e;return null==(e=d(o.buttonRef))?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),t.stopPropagation(),o.openMenu(),function(e){requestAnimationFrame((()=>requestAnimationFrame(e)))}((()=>{var e;return null==(e=d(o.itemsRef))?void 0:e.focus({preventScroll:!0})}))))}let h=b((0,n.Fl)((()=>({as:e.as,type:t.type}))),o.buttonRef);return()=>{var n;let u={open:0===o.menuState.value},p={ref:o.buttonRef,id:i,type:h.value,"aria-haspopup":!0,"aria-controls":null==(n=d(o.itemsRef))?void 0:n.id,"aria-expanded":e.disabled?void 0:0===o.menuState.value,onKeydown:a,onKeyup:l,onClick:c};return s({props:{...e,...p},slot:u,attrs:t,slots:r,name:"MenuButton"})}}}),(0,n.aZ)({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:r}){let o=ee("MenuItems"),i=`headlessui-menu-items-${u()}`,a=(0,n.iH)(null);function l(e){var t;switch(a.value&&clearTimeout(a.value),e.key){case" ":if(""!==o.searchQuery.value)return e.preventDefault(),e.stopPropagation(),o.search(e.key);case"Enter":if(e.preventDefault(),e.stopPropagation(),null!==o.activeItemIndex.value){let{id:e}=o.items.value[o.activeItemIndex.value];null==(t=document.getElementById(e))||t.click()}o.closeMenu(),(0,n.Y3)((()=>{var e;return null==(e=d(o.buttonRef))?void 0:e.focus({preventScroll:!0})}));break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),o.goToItem(2);case"ArrowUp":return e.preventDefault(),e.stopPropagation(),o.goToItem(1);case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),o.goToItem(0);case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),o.goToItem(3);case"Escape":e.preventDefault(),e.stopPropagation(),o.closeMenu(),(0,n.Y3)((()=>{var e;return null==(e=d(o.buttonRef))?void 0:e.focus({preventScroll:!0})}));break;case"Tab":e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(o.search(e.key),a.value=setTimeout((()=>o.clearSearch()),350))}}function c(e){" "===e.key&&e.preventDefault()}y({container:(0,n.Fl)((()=>d(o.itemsRef))),enabled:(0,n.Fl)((()=>0===o.menuState.value)),accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let h=f(),p=(0,n.Fl)((()=>null!==h?0===h.value:0===o.menuState.value));return()=>{var n,a;let u={open:0===o.menuState.value},h={"aria-activedescendant":null===o.activeItemIndex.value||null==(n=o.items.value[o.activeItemIndex.value])?void 0:n.id,"aria-labelledby":null==(a=d(o.buttonRef))?void 0:a.id,id:i,onKeydown:l,onKeyup:c,role:"menu",tabIndex:0,ref:o.itemsRef};return s({props:{...e,...h},slot:u,attrs:t,slots:r,features:3,visible:p.value,name:"MenuItems"})}}}),(0,n.aZ)({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:r}){let o=ee("MenuItem"),i=`headlessui-menu-item-${u()}`,a=(0,n.Fl)((()=>null!==o.activeItemIndex.value&&o.items.value[o.activeItemIndex.value].id===i)),l=(0,n.iH)({disabled:e.disabled,textValue:""});function c(t){if(e.disabled)return t.preventDefault();o.closeMenu(),(0,n.Y3)((()=>{var e;return null==(e=d(o.buttonRef))?void 0:e.focus({preventScroll:!0})}))}function h(){if(e.disabled)return o.goToItem(5);o.goToItem(4,i)}function p(){e.disabled||a.value||o.goToItem(4,i)}function f(){e.disabled||!a.value||o.goToItem(5)}return(0,n.bv)((()=>{var e,t;let r=null==(t=null==(e=document.getElementById(i))?void 0:e.textContent)?void 0:t.toLowerCase().trim();void 0!==r&&(l.value.textValue=r)})),(0,n.bv)((()=>o.registerItem(i,l))),(0,n.SK)((()=>o.unregisterItem(i))),(0,n.m0)((()=>{0===o.menuState.value&&(!a.value||(0,n.Y3)((()=>{var e,t;return null==(t=null==(e=document.getElementById(i))?void 0:e.scrollIntoView)?void 0:t.call(e,{block:"nearest"})})))})),()=>{let{disabled:n}=e,o={active:a.value,disabled:n};return s({props:{...e,id:i,role:"menuitem",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,onClick:c,onFocus:h,onPointermove:p,onMousemove:p,onPointerleave:f,onMouseleave:f},slot:o,attrs:r,slots:t,name:"MenuItem"})}}});var te=Symbol("PopoverContext");function re(e){let t=(0,n.f3)(te,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <${ie.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,re),t}return t}var ne=Symbol("PopoverGroupContext");function oe(){return(0,n.f3)(ne,null)}var se=Symbol("PopoverPanelContext"),ie=(0,n.aZ)({name:"Popover",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:r}){let i=`headlessui-popover-button-${u()}`,a=`headlessui-popover-panel-${u()}`,l=(0,n.iH)(1),c=(0,n.iH)(null),p=(0,n.iH)(null),f={popoverState:l,buttonId:i,panelId:a,panel:p,button:c,togglePopover(){l.value=o(l.value,{0:1,1:0})},closePopover(){1!==l.value&&(l.value=1)},close(e){f.closePopover();let t=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?d(e):d(f.button):d(f.button);null==t||t.focus()}};(0,n.JJ)(te,f),v((0,n.Fl)((()=>o(l.value,{0:0,1:1}))));let m={buttonId:i,panelId:a,close(){f.closePopover()}},b=oe(),y=null==b?void 0:b.registerPopover;return(0,n.m0)((()=>null==y?void 0:y(m))),h("focus",(()=>{var e,t,r;0===l.value&&((null!=(r=null==b?void 0:b.isFocusWithinPopoverGroup())?r:(null==(e=d(c))?void 0:e.contains(document.activeElement))||(null==(t=d(p))?void 0:t.contains(document.activeElement)))||!c||!p||f.closePopover())}),!0),h("mousedown",(e=>{var t,r,n;let s=e.target;0===l.value&&((null==(t=d(c))?void 0:t.contains(s))||(null==(r=d(p))?void 0:r.contains(s))||(f.closePopover(),function(e,t=0){return e!==document.body&&o(t,{0:()=>e.matches(S),1(){let t=e;for(;null!==t;){if(t.matches(S))return!0;t=t.parentElement}return!1}})}(s,1)||(e.preventDefault(),null==(n=d(c))||n.focus())))})),()=>{let n={open:0===l.value,close:f.close};return s({props:e,slot:n,slots:t,attrs:r,name:"Popover"})}}}),ae=((0,n.aZ)({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:r}){let o=re("PopoverButton"),i=oe(),a=null==i?void 0:i.closeOthers,l=(0,n.f3)(se,null),u=null!==l&&l===o.panelId,c=(0,n.iH)(null),p=(0,n.iH)("undefined"==typeof window?null:document.activeElement);h("focus",(()=>{p.value=c.value,c.value=document.activeElement}),!0);let f=(0,n.iH)(null);u||(0,n.m0)((()=>{o.button.value=f.value}));let v=b((0,n.Fl)((()=>({as:e.as,type:t.type}))),f);function m(e){var t,r,n,s;if(u){if(1===o.popoverState.value)return;switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),o.closePopover(),null==(t=d(o.button))||t.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),1===o.popoverState.value&&(null==a||a(o.buttonId)),o.togglePopover();break;case"Escape":if(0!==o.popoverState.value)return null==a?void 0:a(o.buttonId);if(!d(o.button)||!(null==(r=d(o.button))?void 0:r.contains(document.activeElement)))return;e.preventDefault(),e.stopPropagation(),o.closePopover();break;case"Tab":if(0!==o.popoverState.value||!o.panel||!o.button)return;if(e.shiftKey){if(!p.value||(null==(n=d(o.button))?void 0:n.contains(p.value))||(null==(s=d(o.panel))?void 0:s.contains(p.value)))return;let t=x(),r=t.indexOf(p.value);if(t.indexOf(d(o.button))>r)return;e.preventDefault(),e.stopPropagation(),T(d(o.panel),8)}else e.preventDefault(),e.stopPropagation(),T(d(o.panel),1)}}function y(e){var t,r;if(!u&&(" "===e.key&&e.preventDefault(),0===o.popoverState.value&&o.panel&&o.button)&&"Tab"===e.key){if(!p.value||(null==(t=d(o.button))?void 0:t.contains(p.value))||(null==(r=d(o.panel))?void 0:r.contains(p.value)))return;let n=x(),s=n.indexOf(p.value);if(n.indexOf(d(o.button))>s)return;e.preventDefault(),e.stopPropagation(),T(d(o.panel),8)}}function g(){var t,r;e.disabled||(u?(o.closePopover(),null==(t=d(o.button))||t.focus()):(1===o.popoverState.value&&(null==a||a(o.buttonId)),null==(r=d(o.button))||r.focus(),o.togglePopover()))}return()=>{let n={open:0===o.popoverState.value},i=u?{ref:f,type:v.value,onKeydown:m,onClick:g}:{ref:f,id:o.buttonId,type:v.value,"aria-expanded":e.disabled?void 0:0===o.popoverState.value,"aria-controls":d(o.panel)?o.panelId:void 0,disabled:!!e.disabled||void 0,onKeydown:m,onKeyup:y,onClick:g};return s({props:{...e,...i},slot:n,attrs:t,slots:r,name:"PopoverButton"})}}}),(0,n.aZ)({name:"PopoverOverlay",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:r}){let o=re("PopoverOverlay"),i=`headlessui-popover-overlay-${u()}`,a=f(),l=(0,n.Fl)((()=>null!==a?0===a.value:0===o.popoverState.value));function c(){o.closePopover()}return()=>{let n={open:0===o.popoverState.value};return s({props:{...e,id:i,"aria-hidden":!0,onClick:c},slot:n,attrs:t,slots:r,features:3,visible:l.value,name:"PopoverOverlay"})}}}),(0,n.aZ)({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:r}){let{focus:o}=e,i=re("PopoverPanel");(0,n.JJ)(se,i.panelId),(0,n.SK)((()=>{i.panel.value=null})),(0,n.m0)((()=>{var e;if(!o||0!==i.popoverState.value||!i.panel)return;let t=document.activeElement;(null==(e=d(i.panel))?void 0:e.contains(t))||T(d(i.panel),1)})),h("keydown",(e=>{var t,r;if(0!==i.popoverState.value||!d(i.panel)||"Tab"!==e.key||!document.activeElement||!(null==(t=d(i.panel))?void 0:t.contains(document.activeElement)))return;e.preventDefault();let n=T(d(i.panel),e.shiftKey?2:4);if(3===n)return null==(r=d(i.button))?void 0:r.focus();if(1===n){if(!d(i.button))return;let e=x(),t=e.indexOf(d(i.button));0===T(e.splice(t+1).filter((e=>{var t;return!(null==(t=d(i.panel))?void 0:t.contains(e))})),1)&&T(document.body,1)}})),h("focus",(()=>{var e;!o||0===i.popoverState.value&&(!d(i.panel)||(null==(e=d(i.panel))?void 0:e.contains(document.activeElement))||i.closePopover())}),!0);let a=f(),l=(0,n.Fl)((()=>null!==a?0===a.value:0===i.popoverState.value));function u(e){var t,r;if("Escape"===e.key){if(0!==i.popoverState.value||!d(i.panel)||!(null==(t=d(i.panel))?void 0:t.contains(document.activeElement)))return;e.preventDefault(),e.stopPropagation(),i.closePopover(),null==(r=d(i.button))||r.focus()}}return()=>{let n={open:0===i.popoverState.value,close:i.close},o={ref:i.panel,id:i.panelId,onKeydown:u};return s({props:{...e,...o},slot:n,attrs:t,slots:r,features:3,visible:l.value,name:"PopoverPanel"})}}}),(0,n.aZ)({name:"PopoverGroup",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:r}){let o=(0,n.iH)(null),i=(0,n.iH)([]);function a(e){let t=i.value.indexOf(e);-1!==t&&i.value.splice(t,1)}return(0,n.JJ)(ne,{registerPopover:function(e){return i.value.push(e),()=>{a(e)}},unregisterPopover:a,isFocusWithinPopoverGroup:function(){var e;let t=document.activeElement;return!!(null==(e=d(o))?void 0:e.contains(t))||i.value.some((e=>{var r,n;return(null==(r=document.getElementById(e.buttonId))?void 0:r.contains(t))||(null==(n=document.getElementById(e.panelId))?void 0:n.contains(t))}))},closeOthers:function(e){for(let t of i.value)t.buttonId!==e&&t.close()}}),()=>s({props:{...e,ref:o},slot:{},attrs:t,slots:r,name:"PopoverGroup"})}}),Symbol("LabelContext"));function le(){let e=(0,n.f3)(ae,null);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,le),e}return e}function ue({slot:e={},name:t="Label",props:r={}}={}){let o=(0,n.iH)([]);return(0,n.JJ)(ae,{register:function(e){return o.value.push(e),()=>{let t=o.value.indexOf(e);-1!==t&&o.value.splice(t,1)}},slot:e,name:t,props:r}),(0,n.Fl)((()=>o.value.length>0?o.value.join(" "):void 0))}(0,n.aZ)({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:r}){let o=le(),i=`headlessui-label-${u()}`;return(0,n.bv)((()=>(0,n.SK)(o.register(i)))),()=>{let{name:a="Label",slot:l={},props:u={}}=o,{passive:c,...d}=e,h={...d,...{...Object.entries(u).reduce(((e,[t,r])=>Object.assign(e,{[t]:(0,n.SU)(r)})),{}),id:i}};return c&&delete h.onClick,s({props:h,slot:l,attrs:r,slots:t,name:a})}}});var ce=Symbol("RadioGroupContext");function de(e){let t=(0,n.f3)(ce,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,de),t}return t}(0,n.aZ)({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]}},setup(e,{emit:t,attrs:r,slots:o}){let i=(0,n.iH)(null),a=(0,n.iH)([]),l=ue({name:"RadioGroupLabel"}),c=H({name:"RadioGroupDescription"}),h=(0,n.Fl)((()=>e.modelValue)),p={options:a,value:h,disabled:(0,n.Fl)((()=>e.disabled)),firstOption:(0,n.Fl)((()=>a.value.find((e=>!e.propsRef.disabled)))),containsCheckedOption:(0,n.Fl)((()=>a.value.some((t=>(0,n.IU)(t.propsRef.value)===(0,n.IU)(e.modelValue))))),change(r){var o;if(e.disabled||h.value===r)return!1;let s=null==(o=a.value.find((e=>(0,n.IU)(e.propsRef.value)===(0,n.IU)(r))))?void 0:o.propsRef;return!(null==s?void 0:s.disabled)&&(t("update:modelValue",r),!0)},registerOption(e){var t;let r=Array.from(null==(t=i.value)?void 0:t.querySelectorAll('[id^="headlessui-radiogroup-option-"]')).reduce(((e,t,r)=>Object.assign(e,{[t.id]:r})),{});a.value.push(e),a.value.sort(((e,t)=>r[e.id]-r[t.id]))},unregisterOption(e){let t=a.value.findIndex((t=>t.id===e));-1!==t&&a.value.splice(t,1)}};function f(e){if(!i.value||!i.value.contains(e.target))return;let t=a.value.filter((e=>!1===e.propsRef.disabled)).map((e=>e.element));switch(e.key){case"ArrowLeft":case"ArrowUp":if(e.preventDefault(),e.stopPropagation(),2===T(t,18)){let e=a.value.find((e=>e.element===document.activeElement));e&&p.change(e.propsRef.value)}break;case"ArrowRight":case"ArrowDown":if(e.preventDefault(),e.stopPropagation(),2===T(t,20)){let e=a.value.find((e=>e.element===document.activeElement));e&&p.change(e.propsRef.value)}break;case" ":{e.preventDefault(),e.stopPropagation();let t=a.value.find((e=>e.element===document.activeElement));t&&p.change(t.propsRef.value)}}}(0,n.JJ)(ce,p),y({container:(0,n.Fl)((()=>d(i))),accept:e=>"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let v=`headlessui-radiogroup-${u()}`;return()=>{let{modelValue:t,disabled:n,...a}=e;return s({props:{...a,ref:i,id:v,role:"radiogroup","aria-labelledby":l.value,"aria-describedby":c.value,onKeydown:f},slot:{},attrs:r,slots:o,name:"RadioGroup"})}}}),(0,n.aZ)({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:r}){let o=de("RadioGroupOption"),i=`headlessui-radiogroup-option-${u()}`,l=ue({name:"RadioGroupLabel"}),c=H({name:"RadioGroupDescription"}),d=(0,n.iH)(null),h=(0,n.Fl)((()=>({value:e.value,disabled:e.disabled}))),p=(0,n.iH)(1);(0,n.bv)((()=>o.registerOption({id:i,element:d,propsRef:h}))),(0,n.SK)((()=>o.unregisterOption(i)));let f=(0,n.Fl)((()=>{var e;return(null==(e=o.firstOption.value)?void 0:e.id)===i})),v=(0,n.Fl)((()=>o.disabled.value||e.disabled)),m=(0,n.Fl)((()=>(0,n.IU)(o.value.value)===(0,n.IU)(e.value))),b=(0,n.Fl)((()=>v.value?-1:m.value||!o.containsCheckedOption.value&&f.value?0:-1));function y(){var t;!o.change(e.value)||(p.value|=2,null==(t=d.value)||t.focus())}function g(){p.value|=2}function w(){p.value&=-3}return()=>{let n=a(e,["value","disabled"]),o={checked:m.value,disabled:v.value,active:Boolean(2&p.value)};return s({props:{...n,id:i,ref:d,role:"radio","aria-checked":m.value?"true":"false","aria-labelledby":l.value,"aria-describedby":c.value,"aria-disabled":!!v.value||void 0,tabIndex:b.value,onClick:v.value?void 0:y,onFocus:v.value?void 0:g,onBlur:v.value?void 0:w},slot:o,attrs:t,slots:r,name:"RadioGroupOption"})}}});var he=Symbol("GroupContext"),pe=((0,n.aZ)({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:r}){let o=(0,n.iH)(null),i=ue({name:"SwitchLabel",props:{onClick(){!o.value||(o.value.click(),o.value.focus({preventScroll:!0}))}}}),a=H({name:"SwitchDescription"});return(0,n.JJ)(he,{switchRef:o,labelledby:i,describedby:a}),()=>s({props:e,slot:{},slots:t,attrs:r,name:"SwitchGroup"})}}),(0,n.aZ)({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:!1}},setup(e,{emit:t,attrs:r,slots:o}){let i=(0,n.f3)(he,null),a=`headlessui-switch-${u()}`;function l(){t("update:modelValue",!e.modelValue)}let c=(0,n.iH)(null),d=null===i?c:i.switchRef,h=b((0,n.Fl)((()=>({as:e.as,type:r.type}))),d);function p(e){e.preventDefault(),l()}function f(e){"Tab"!==e.key&&e.preventDefault()," "===e.key&&l()}function v(e){e.preventDefault()}return()=>{let t={checked:e.modelValue},n={id:a,ref:d,role:"switch",type:h.value,tabIndex:0,"aria-checked":e.modelValue,"aria-labelledby":null==i?void 0:i.labelledby.value,"aria-describedby":null==i?void 0:i.describedby.value,onClick:p,onKeyup:f,onKeypress:v};return s({props:{...e,...n},slot:t,attrs:r,slots:o,name:"Switch"})}}}),Symbol("TabsContext"));function fe(e){let t=(0,n.f3)(pe,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fe),t}return t}function ve(){let e=[],t=[],r={enqueue(e){t.push(e)},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);r.add((()=>cancelAnimationFrame(t)))},nextFrame(...e){r.requestAnimationFrame((()=>{r.requestAnimationFrame(...e)}))},setTimeout(...e){let t=setTimeout(...e);r.add((()=>clearTimeout(t)))},add(t){e.push(t)},dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return r}function me(e,...t){e&&t.length>0&&e.classList.add(...t)}function be(e,...t){e&&t.length>0&&e.classList.remove(...t)}function ye(e,t,r,n,o,s){let i=ve(),a=void 0!==s?function(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}(s):()=>{};return be(e,...o),me(e,...t,...r),i.nextFrame((()=>{be(e,...r),me(e,...n),i.add(function(e,t){let r=ve();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:o}=getComputedStyle(e),[s,i]=[n,o].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));return 0!==s?r.setTimeout((()=>t("finished")),s+i):t("finished"),r.add((()=>t("cancelled"))),r.dispose}(e,(r=>(be(e,...n,...t),me(e,...o),a(r)))))})),i.add((()=>be(e,...t,...r,...n,...o))),i.add((()=>a("cancelled"))),i.dispose}function ge(e=""){return e.split(" ").filter((e=>e.trim().length>1))}(0,n.aZ)({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:r,emit:o}){let i=(0,n.iH)(null),l=(0,n.iH)([]),u=(0,n.iH)([]),c={selectedIndex:i,orientation:(0,n.Fl)((()=>e.vertical?"vertical":"horizontal")),activation:(0,n.Fl)((()=>e.manual?"manual":"auto")),tabs:l,panels:u,setSelectedIndex(e){i.value!==e&&(i.value=e,o("change",e))},registerTab(e){l.value.includes(e)||l.value.push(e)},unregisterTab(e){let t=l.value.indexOf(e);-1!==t&&l.value.splice(t,1)},registerPanel(e){u.value.includes(e)||u.value.push(e)},unregisterPanel(e){let t=u.value.indexOf(e);-1!==t&&u.value.splice(t,1)}};return(0,n.JJ)(pe,c),(0,n.m0)((()=>{var t;if(c.tabs.value.length<=0||null===e.selectedIndex&&null!==i.value)return;let r=c.tabs.value.map((e=>d(e))).filter(Boolean),n=r.filter((e=>!e.hasAttribute("disabled"))),o=null!=(t=e.selectedIndex)?t:e.defaultIndex;if(o<0)i.value=r.indexOf(n[0]);else if(o>c.tabs.value.length)i.value=r.indexOf(n[n.length-1]);else{let e=r.slice(0,o),t=[...r.slice(o),...e].find((e=>n.includes(e)));if(!t)return;i.value=r.indexOf(t)}})),()=>{let n={selectedIndex:i.value};return s({props:a(e,["selectedIndex","defaultIndex","manual","vertical","onChange"]),slot:n,slots:t,attrs:r,name:"TabGroup"})}}}),(0,n.aZ)({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:r}){let n=fe("TabList");return()=>{let o={selectedIndex:n.selectedIndex.value},i={role:"tablist","aria-orientation":n.orientation.value};return s({props:{...e,...i},slot:o,attrs:t,slots:r,name:"TabList"})}}}),(0,n.aZ)({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:r}){let i=fe("Tab"),a=`headlessui-tabs-tab-${u()}`,l=(0,n.iH)();(0,n.bv)((()=>i.registerTab(l))),(0,n.SK)((()=>i.unregisterTab(l)));let c=(0,n.Fl)((()=>i.tabs.value.indexOf(l))),h=(0,n.Fl)((()=>c.value===i.selectedIndex.value));function p(e){let t=i.tabs.value.map((e=>d(e))).filter(Boolean);if(" "===e.key||"Enter"===e.key)return e.preventDefault(),e.stopPropagation(),void i.setSelectedIndex(c.value);switch(e.key){case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),T(t,1);case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),T(t,8)}return o(i.orientation.value,{vertical:()=>"ArrowUp"===e.key?T(t,18):"ArrowDown"===e.key?T(t,20):void 0,horizontal:()=>"ArrowLeft"===e.key?T(t,18):"ArrowRight"===e.key?T(t,20):void 0})}function f(){var e;null==(e=d(l))||e.focus()}function v(){var t;e.disabled||(null==(t=d(l))||t.focus(),i.setSelectedIndex(c.value))}let m=b((0,n.Fl)((()=>({as:e.as,type:t.type}))),l);return()=>{var n,o;let u={selected:h.value},d={ref:l,onKeydown:p,onFocus:"manual"===i.activation.value?f:v,onClick:v,id:a,role:"tab",type:m.value,"aria-controls":null==(o=null==(n=i.panels.value[c.value])?void 0:n.value)?void 0:o.id,"aria-selected":h.value,tabIndex:h.value?0:-1,disabled:!!e.disabled||void 0};return s({props:{...e,...d},slot:u,attrs:t,slots:r,name:"Tab"})}}}),(0,n.aZ)({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:r}){let n=fe("TabPanels");return()=>{let o={selectedIndex:n.selectedIndex.value};return s({props:e,slot:o,attrs:r,slots:t,name:"TabPanels"})}}}),(0,n.aZ)({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:r}){let o=fe("TabPanel"),i=`headlessui-tabs-panel-${u()}`,a=(0,n.iH)();(0,n.bv)((()=>o.registerPanel(a))),(0,n.SK)((()=>o.unregisterPanel(a)));let l=(0,n.Fl)((()=>o.panels.value.indexOf(a))),c=(0,n.Fl)((()=>l.value===o.selectedIndex.value));return()=>{var n,u;let d={selected:c.value},h={ref:a,id:i,role:"tabpanel","aria-labelledby":null==(u=null==(n=o.tabs.value[l.value])?void 0:n.value)?void 0:u.id,tabIndex:c.value?0:-1};return s({props:{...e,...h},slot:d,attrs:t,slots:r,features:3,visible:c.value,name:"TabPanel"})}}});var we=Symbol("TransitionContext"),Se=Symbol("NestingContext");function xe(e){return"children"in e?xe(e.children):e.value.filter((({state:e})=>"visible"===e)).length>0}function Oe(e){let t=(0,n.iH)([]),r=(0,n.iH)(!1);function s(n,s=1){let i=t.value.findIndex((({id:e})=>e===n));-1!==i&&(o(s,{0(){t.value.splice(i,1)},1(){t.value[i].state="hidden"}}),!xe(t)&&r.value&&(null==e||e()))}return(0,n.bv)((()=>r.value=!0)),(0,n.SK)((()=>r.value=!1)),{children:t,register:function(e){let r=t.value.find((({id:t})=>t===e));return r?"visible"!==r.state&&(r.state="visible"):t.value.push({id:e,state:"visible"}),()=>s(e,0)},unregister:s}}var Te=(0,n.aZ)({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:r,slots:i}){if(null===(0,n.f3)(we,null)&&null!==f())return()=>(0,n.h)(ke,{...e,onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")},i);let a=(0,n.iH)(null),l=(0,n.iH)("visible"),c=(0,n.Fl)((()=>e.unmount?0:1)),{show:h,appear:p}=function(){let e=(0,n.f3)(we,null);if(null===e)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}(),{register:m,unregister:b}=function(){let e=(0,n.f3)(Se,null);if(null===e)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}(),y={value:!0},g=u(),w={value:!1},S=Oe((()=>{w.value||(l.value="hidden",b(g),t("afterLeave"))}));(0,n.bv)((()=>{let e=m(g);(0,n.SK)(e)})),(0,n.m0)((()=>{if(1===c.value&&g){if(h&&"visible"!==l.value)return void(l.value="visible");o(l.value,{hidden:()=>b(g),visible:()=>m(g)})}}));let x=ge(e.enter),O=ge(e.enterFrom),T=ge(e.enterTo),E=ge(e.entered),k=ge(e.leave),_=ge(e.leaveFrom),P=ge(e.leaveTo);return(0,n.bv)((()=>{(0,n.m0)((()=>{if("visible"===l.value){let e=d(a);if(e instanceof Comment&&""===e.data)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}}))})),(0,n.bv)((()=>{(0,n.YP)([h,p],((e,r,n)=>{(function(e){let r=y.value&&!p.value,n=d(a);!n||!(n instanceof HTMLElement)||r||(w.value=!0,h.value&&t("beforeEnter"),h.value||t("beforeLeave"),e(h.value?ye(n,x,O,T,E,(e=>{w.value=!1,"finished"===e&&t("afterEnter")})):ye(n,k,_,P,E,(e=>{w.value=!1,"finished"===e&&(xe(S)||(l.value="hidden",b(g),t("afterLeave")))}))))})(n),y.value=!1}),{immediate:!0})})),(0,n.JJ)(Se,S),v((0,n.Fl)((()=>o(l.value,{visible:0,hidden:1})))),()=>{let{appear:t,show:n,enter:o,enterFrom:u,enterTo:c,entered:d,leave:h,leaveFrom:p,leaveTo:f,...v}=e;return s({props:{...v,ref:a},slot:{},slots:i,attrs:r,features:1,visible:"visible"===l.value,name:"TransitionChild"})}}}),Ee=Te,ke=(0,n.aZ)({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:r,slots:i}){let l=f(),u=(0,n.Fl)((()=>null===e.show&&null!==l?o(l.value,{0:!0,1:!1}):e.show));(0,n.m0)((()=>{if(![!0,!1].includes(u.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')}));let c=(0,n.iH)(u.value?"visible":"hidden"),d=Oe((()=>{c.value="hidden"})),h={value:!0},p={show:u,appear:(0,n.Fl)((()=>e.appear||!h.value))};return(0,n.bv)((()=>{(0,n.m0)((()=>{h.value=!1,u.value?c.value="visible":xe(d)||(c.value="hidden")}))})),(0,n.JJ)(Se,d),(0,n.JJ)(we,p),()=>{let o=a(e,["show","appear","unmount"]),l={unmount:e.unmount};return s({props:{...l,as:"template"},slot:{},slots:{...i,default:()=>[(0,n.h)(Ee,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...r,...l,...o},i.default)]},attrs:{},features:1,visible:"visible"===c.value,name:"Transition"})}}})},794:e=>{"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=494.script.js.map